/* Generated by Opal 0.11.0.rc1 */
Opal.modules["asciidoctor-revealjs/converter"] = function(Opal) {
  function $rb_plus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);
  }
  function $rb_le(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs <= rhs : lhs['$<='](rhs);
  }
  function $rb_minus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);
  }
  function $rb_ge(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);
  }
  function $rb_lt(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs < rhs : lhs['$<'](rhs);
  }
  function $rb_times(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs * rhs : lhs['$*'](rhs);
  }
  var self = Opal.top, $nesting = [], nil = Opal.nil, $breaker = Opal.breaker, $slice = Opal.slice, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $send = Opal.send, $hash2 = Opal.hash2;

  Opal.add_stubs(['$==', '$nil?', '$option?', '$include?', '$join', '$map', '$split', '$!=', '$to_s', '$inject', '$!', '$nil_or_empty?', '$is_a?', '$compact', '$<<', '$empty?', '$+', '$level', '$special', '$to_i', '$attr', '$document', '$numbered', '$caption', '$<=', '$sectnum', '$captioned_title', '$each', '$constants', '$const_set', '$const_get', '$register_for', '$basebackend', '$outfilesuffix', '$filetype', '$[]', '$create', '$backend_info', '$new', '$node_name', '$respond_to?', '$send', '$extend', '$instance_eval', '$set_local_variables', '$converter', '$binding', '$to_sym', '$strip', '$content', '$attr?', '$sub_specialcharacters', '$start_with?', '$end_with?', '$[]=', '$-', '$role', '$===', '$flatten', '$map!', '$to_proc', '$reject!', '$reject', '$title?', '$title', '$icon_uri', '$image_uri', '$convert', '$has_role?', '$items', '$text', '$text?', '$blocks?', '$chomp', '$last', '$each_with_index', '$size', '$first', '$zero?', '$role?', '$list_marker_keyword', '$tr_s', '$fetch', '$references', '$doctitle', '$normalize_web_path', '$>=', '$coderay_stylesheet_data', '$instance', '$pygments_stylesheet_data', '$docinfo', '$notitle', '$has_header?', '$media_uri', '$subtitle?', '$slice_text', '$header', '$subtitle', '$find_by', '$length', '$pop', '$author', '$to_boolean', '$doctype', '$puts', '$context', '$attributes', '$footnotes?', '$footnotes', '$index', '$sections', '$section_level', '$id', '$section_title', '$<', '$select', '$style', '$html_tag', '$colspan', '$rowspan', '$*', '$gsub', '$blocks', '$roles', '$local_variable_set']);
  
  (function($base, $parent_nesting) {
    var $Asciidoctor, self = $Asciidoctor = $module($base, 'Asciidoctor');

    var def = self.$$proto, $nesting = [self].concat($parent_nesting);

    (function($base, $parent_nesting) {
      var $Revealjs, self = $Revealjs = $module($base, 'Revealjs');

      var def = self.$$proto, $nesting = [self].concat($parent_nesting);

      nil
    })($nesting[0], $nesting)
  })($nesting[0], $nesting);
  return (function($base, $super, $parent_nesting) {
    function $Converter(){};
    var self = $Converter = $klass($base, $super, 'Converter', $Converter);

    var def = self.$$proto, $nesting = [self].concat($parent_nesting), TMP_Converter_8, TMP_Converter_initialize_9, TMP_Converter_convert_10, TMP_Converter_inline_footnote_12, TMP_Converter_stem_14, TMP_Converter_inline_image_16, TMP_Converter_toc_18, TMP_Converter_inline_indexterm_20, TMP_Converter_pass_22, TMP_Converter_inline_button_24, TMP_Converter_paragraph_26, TMP_Converter_example_28, TMP_Converter_dlist_36, TMP_Converter_colist_40, TMP_Converter_inline_kbd_43, TMP_Converter_inline_callout_45, TMP_Converter_preamble_47, TMP_Converter_inline_quoted_49, TMP_Converter_olist_52, TMP_Converter_inline_anchor_54, TMP_Converter_document_57, TMP_Converter_ulist_60, TMP_Converter_inline_menu_63, TMP_Converter_sidebar_65, TMP_Converter_page_break_67, TMP_Converter_open_69, TMP_Converter_audio_71, TMP_Converter_listing_73, TMP_Converter_admonition_75, TMP_Converter_embedded_78, TMP_Converter_outline_81, TMP_Converter_thematic_break_83, TMP_Converter_table_94, TMP_Converter_verse_96, TMP_Converter_quote_98, TMP_Converter_inline_break_100, TMP_Converter_ruler_102, TMP_Converter_video_104, TMP_Converter_section_111, TMP_Converter_floating_title_113, TMP_Converter_literal_115, TMP_Converter_image_117, TMP_Converter_set_local_variables_119;

    def.delegate_converter = nil;
    
    if (Opal.const_get_relative($nesting, 'RUBY_ENGINE')['$==']("opal")) {
      } else {
      nil
    };
    (function($base, $parent_nesting) {
      var $Helpers, self = $Helpers = $module($base, 'Helpers');

      var def = self.$$proto, $nesting = [self].concat($parent_nesting), TMP_Helpers_slice_text_2, TMP_Helpers_to_boolean_3, TMP_Helpers_html_tag_5, TMP_Helpers_section_level_6, TMP_Helpers_section_title_7;

      
      Opal.const_set($nesting[0], 'EOL', "\n");
      Opal.const_set($nesting[0], 'SliceHintRx', /  +/);
      
      Opal.defn(self, '$slice_text', TMP_Helpers_slice_text_2 = function $$slice_text(str, active) {
        var $a, $b, $c, TMP_1, self = this;

        if (active == null) {
          active = nil;
        }
        if ($truthy(($truthy($a = ($truthy($b = active) ? $b : ($truthy($c = active['$nil?']()) ? self['$option?']("slice") : $c))) ? str['$include?']("  ") : $a))) {
          return $send(str.$split(Opal.const_get_relative($nesting, 'SliceHintRx')), 'map', [], (TMP_1 = function(line){var self = TMP_1.$$s || this;
if (line == null) line = nil;
          return "" + "<span class=\"line\">" + (line) + "</span>"}, TMP_1.$$s = self, TMP_1.$$arity = 1, TMP_1)).$join(Opal.const_get_relative($nesting, 'EOL'))
          } else {
          return str
        }
      }, TMP_Helpers_slice_text_2.$$arity = -2);
      
      Opal.defn(self, '$to_boolean', TMP_Helpers_to_boolean_3 = function $$to_boolean(val) {
        var $a, $b, $c, self = this;

        return ($truthy($a = ($truthy($b = ($truthy($c = val) ? val['$!=']("false") : $c)) ? val.$to_s()['$!=']("0") : $b)) ? $a : false)
      }, TMP_Helpers_to_boolean_3.$$arity = 1);
      Opal.const_set($nesting[0], 'DEFAULT_TOCLEVELS', 2);
      Opal.const_set($nesting[0], 'DEFAULT_SECTNUMLEVELS', 3);
      Opal.const_set($nesting[0], 'VOID_ELEMENTS', ["area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
      
      Opal.defn(self, '$html_tag', TMP_Helpers_html_tag_5 = function $$html_tag(name, attributes, content) {
        var TMP_4, $a, self = this, $iter = TMP_Helpers_html_tag_5.$$p, $yield = $iter || nil, attrs = nil, attrs_str = nil;

        if (attributes == null) {
          attributes = $hash2([], {});
        }
        if (content == null) {
          content = nil;
        }
        if ($iter) TMP_Helpers_html_tag_5.$$p = null;
        
        attrs = $send(attributes, 'inject', [[]], (TMP_4 = function(attrs, $a){var self = TMP_4.$$s || this, $a_args, k, v, $b;

          if ($a == null) {
            $a = nil;
          }
          $a = Opal.to_ary($a);
          $a_args = Opal.slice.call($a, 0, $a.length);
          k = $a_args.splice(0,1)[0];
          if (k == null) {
            k = nil;
          }
          v = $a_args.splice(0,1)[0];
          if (v == null) {
            v = nil;
          }if (attrs == null) attrs = nil;
        
          if ($truthy(($truthy($b = v['$!']()) ? $b : v['$nil_or_empty?']()))) {
            return attrs;};
          if ($truthy(v['$is_a?'](Opal.const_get_relative($nesting, 'Array')))) {
            v = v.$compact().$join(" ")};
          return attrs['$<<']((function() {if (v['$=='](true)) {
            return k
            } else {
            return "" + (k) + "=\"" + (v) + "\""
          }; return nil; })());}, TMP_4.$$s = self, TMP_4.$$arity = 2, TMP_4.$$has_top_level_mlhs_arg = true, TMP_4));
        attrs_str = (function() {if ($truthy(attrs['$empty?']())) {
          return ""
          } else {
          return $rb_plus(" ", attrs.$join(" "))
        }; return nil; })();
        if ($truthy(Opal.const_get_relative($nesting, 'VOID_ELEMENTS')['$include?'](name.$to_s()))) {
          return "" + "<" + (name) + (attrs_str) + ">"
          } else {
          
          if (($yield !== nil)) {
            content = ($truthy($a = content) ? $a : Opal.yieldX($yield, []))};
          return "" + "<" + (name) + (attrs_str) + ">" + (content) + "</" + (name) + ">";
        };
      }, TMP_Helpers_html_tag_5.$$arity = -2);
      
      Opal.defn(self, '$section_level', TMP_Helpers_section_level_6 = function $$section_level(sec) {
        var $a, $b, self = this;
        if (self._section_level == null) self._section_level = nil;

        if (sec == null) {
          sec = self;
        }
        return (self._section_level = ($truthy($a = self._section_level) ? $a : (function() {if ($truthy((($b = sec.$level()['$=='](0)) ? sec.$special() : sec.$level()['$=='](0)))) {
          return 1
          } else {
          return sec.$level()
        }; return nil; })()))
      }, TMP_Helpers_section_level_6.$$arity = -1);
      
      Opal.defn(self, '$section_title', TMP_Helpers_section_title_7 = function $$section_title(sec) {
        var $a, $b, self = this, sectnumlevels = nil;

        if (sec == null) {
          sec = self;
        }
        
        sectnumlevels = self.$document().$attr("sectnumlevels", Opal.const_get_relative($nesting, 'DEFAULT_SECTNUMLEVELS')).$to_i();
        if ($truthy(($truthy($a = ($truthy($b = sec.$numbered()) ? sec.$caption()['$!']() : $b)) ? $rb_le(sec.$level(), sectnumlevels) : $a))) {
          return [sec.$sectnum(), sec.$captioned_title()].$join(" ")
          } else {
          return sec.$captioned_title()
        };
      }, TMP_Helpers_section_title_7.$$arity = -1);
    })($nesting[0], $nesting);
    $send(Opal.const_get_relative($nesting, 'Helpers').$constants(), 'each', [], (TMP_Converter_8 = function(const$){var self = TMP_Converter_8.$$s || this;
if (const$ == null) const$ = nil;
    return self.$const_set(const$, Opal.const_get_relative($nesting, 'Helpers').$const_get(const$))}, TMP_Converter_8.$$s = self, TMP_Converter_8.$$arity = 1, TMP_Converter_8));
    self.$register_for("revealjs");
    
    Opal.defn(self, '$initialize', TMP_Converter_initialize_9 = function $$initialize(backend, opts) {
      var $a, self = this, $iter = TMP_Converter_initialize_9.$$p, $yield = $iter || nil, delegate_backend = nil, factory = nil, converter = nil, $zuper = nil, $zuper_i = nil, $zuper_ii = nil;

      if (opts == null) {
        opts = $hash2([], {});
      }
      if ($iter) TMP_Converter_initialize_9.$$p = null;
      // Prepare super implicit arguments
      for($zuper_i = 0, $zuper_ii = arguments.length, $zuper = new Array($zuper_ii); $zuper_i < $zuper_ii; $zuper_i++) {
        $zuper[$zuper_i] = arguments[$zuper_i];
      }
      
      $send(self, Opal.find_super_dispatcher(self, 'initialize', TMP_Converter_initialize_9, false), $zuper, $iter);
      self.$basebackend("html");
      self.$outfilesuffix(".html");
      self.$filetype("html");
      delegate_backend = ($truthy($a = opts['$[]']("delegate_backend")) ? $a : "html5").$to_s();
      factory = Opal.const_get_qualified(Opal.const_get_qualified(Opal.const_get_qualified('::', 'Asciidoctor'), 'Converter'), 'Factory');
      converter = factory.$create(delegate_backend, self.$backend_info());
      return (self.delegate_converter = (function() {if (converter['$=='](self)) {
        return factory.$new().$create(delegate_backend, self.$backend_info())
        } else {
        return converter
      }; return nil; })());
    }, TMP_Converter_initialize_9.$$arity = -2);
    
    Opal.defn(self, '$convert', TMP_Converter_convert_10 = function $$convert(node, transform, opts) {
      var $a, self = this, converter = nil;

      if (transform == null) {
        transform = nil;
      }
      if (opts == null) {
        opts = $hash2([], {});
      }
      
      transform = ($truthy($a = transform) ? $a : node.$node_name());
      converter = (function() {if ($truthy(self['$respond_to?'](transform))) {
        return self
        } else {
        return self.delegate_converter
      }; return nil; })();
      if ($truthy(opts['$empty?']())) {
        return converter.$send(transform, node)
        } else {
        return converter.$send(transform, node, opts)
      };
    }, TMP_Converter_convert_10.$$arity = -2);
    
    Opal.defn(self, '$inline_footnote', TMP_Converter_inline_footnote_12 = function $$inline_footnote(node, opts) {
      var TMP_11, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_11 = function(){var self = TMP_11.$$s || this, _buf = nil, _slim_codeattributes1 = nil;
        if (self.type == null) self.type = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if (self.type['$==']("xref")) {
          
          _buf['$<<']("<span class=\"footnoteref\">[<a class=\"footnote\" href=\"#_footnote_");
          _buf['$<<'](self.$attr("index"));
          _buf['$<<']("\" title=\"View footnote.\">");
          _buf['$<<'](self.$attr("index"));
          _buf['$<<']("</a>]</span>");
          } else {
          
          _buf['$<<']("<span class=\"footnote\"");
          _slim_codeattributes1 = (function() {if ($truthy(self.id)) {
            return "" + "_footnote_" + (self.id)
            } else {
            return nil
          }; return nil; })();
          if ($truthy(_slim_codeattributes1)) {
            if (_slim_codeattributes1['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes1);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">[<a id=\"_footnoteref_");
          _buf['$<<'](self.$attr("index"));
          _buf['$<<']("\" class=\"footnote\" href=\"#_footnote_");
          _buf['$<<'](self.$attr("index"));
          _buf['$<<']("\" title=\"View footnote.\">");
          _buf['$<<'](self.$attr("index"));
          _buf['$<<']("</a>]</span>");
        };
        return (_buf = _buf.$join(""));}, TMP_11.$$s = self, TMP_11.$$arity = 0, TMP_11));
    }, TMP_Converter_inline_footnote_12.$$arity = -2);
    
    Opal.defn(self, '$stem', TMP_Converter_stem_14 = function $$stem(node, opts) {
      var TMP_13, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_13 = function(){var self = TMP_13.$$s || this, $a, $b, _buf = nil, open = nil, close = nil, equation = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil;
        if (self.style == null) self.style = nil;
        if (self.subs == null) self.subs = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        $b = Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'BLOCK_MATH_DELIMITERS')['$[]'](self.style.$to_sym()), $a = Opal.to_ary($b), (open = ($a[0] == null ? nil : $a[0])), (close = ($a[1] == null ? nil : $a[1])), $b;
        equation = self.$content().$strip();
        if ($truthy(($truthy($a = ($truthy($b = self.subs['$nil?']()) ? $b : self.subs['$empty?']())) ? self['$attr?']("subs")['$!']() : $a))) {
          equation = self.$sub_specialcharacters(equation)};
        if ($truthy(($truthy($a = equation['$start_with?'](open)) ? equation['$end_with?'](close) : $a))) {
          } else {
          equation = "" + (open) + (equation) + (close)
        };
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "stemblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<div class=\"content\">");
        _buf['$<<'](equation);
        _buf['$<<']("</div></div>");
        return (_buf = _buf.$join(""));}, TMP_13.$$s = self, TMP_13.$$arity = 0, TMP_13));
    }, TMP_Converter_stem_14.$$arity = -2);
    
    Opal.defn(self, '$inline_image', TMP_Converter_inline_image_16 = function $$inline_image(node, opts) {
      var TMP_15, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_15 = function(){var self = TMP_15.$$s || this, $a, _buf = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, style_class = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, _temple_html_attributeremover3 = nil, _slim_codeattributes7 = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil, _slim_codeattributes10 = nil, src = nil, _slim_codeattributes11 = nil, _slim_codeattributes12 = nil, _slim_codeattributes13 = nil, _slim_codeattributes14 = nil, _slim_codeattributes15 = nil, _slim_codeattributes16 = nil, _slim_codeattributes17 = nil, _slim_codeattributes18 = nil, _slim_codeattributes19 = nil, _slim_codeattributes20 = nil, _slim_codeattributes21 = nil, _slim_codeattributes22 = nil;
        if (self.type == null) self.type = nil;
        if (self.document == null) self.document = nil;
        if (self.target == null) self.target = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<span");
        _temple_html_attributeremover1 = [];
        _slim_codeattributes1 = [self.type, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes1)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = (function() {if ($truthy(self['$attr?']("float"))) {
          return "" + "float: " + (self.$attr("float"))
          } else {
          return nil
        }; return nil; })();
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" style")
            } else {
            
            _buf['$<<'](" style=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy((($a = self.type['$==']("icon")) ? self.document['$attr?']("icons", "font") : self.type['$==']("icon")))) {
          
          style_class = ["" + "fa fa-" + (self.target)];
          if ($truthy(self['$attr?']("size"))) {
            style_class['$<<']("" + "fa-" + (self.$attr("size")))};
          if ($truthy(self['$attr?']("rotate"))) {
            style_class['$<<']("" + "fa-rotate-" + (self.$attr("rotate")))};
          if ($truthy(self['$attr?']("flip"))) {
            style_class['$<<']("" + "fa-flip-" + (self.$attr("flip")))};
          if ($truthy(self['$attr?']("link"))) {
            
            _buf['$<<']("<a class=\"image\"");
            _slim_codeattributes3 = self.$attr("link");
            if ($truthy(_slim_codeattributes3)) {
              if (_slim_codeattributes3['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes3);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes4 = self.$attr("window");
            if ($truthy(_slim_codeattributes4)) {
              if (_slim_codeattributes4['$=='](true)) {
                _buf['$<<'](" target")
                } else {
                
                _buf['$<<'](" target=\"");
                _buf['$<<'](_slim_codeattributes4);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("><i");
            _temple_html_attributeremover2 = [];
            _slim_codeattributes5 = style_class;
            if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes5))) {
              
              _slim_codeattributes5 = _slim_codeattributes5.$flatten();
              $send(_slim_codeattributes5, 'map!', [], "to_s".$to_proc());
              $send(_slim_codeattributes5, 'reject!', [], "empty?".$to_proc());
              _temple_html_attributeremover2['$<<'](_slim_codeattributes5.$join(" "));
              } else {
              _temple_html_attributeremover2['$<<'](_slim_codeattributes5)
            };
            _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
            if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
              
              _buf['$<<'](" class=\"");
              _buf['$<<'](_temple_html_attributeremover2);
              _buf['$<<']("\"");};
            _slim_codeattributes6 = self.$attr("title");
            if ($truthy(_slim_codeattributes6)) {
              if (_slim_codeattributes6['$=='](true)) {
                _buf['$<<'](" title")
                } else {
                
                _buf['$<<'](" title=\"");
                _buf['$<<'](_slim_codeattributes6);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("></i></a>");
            } else {
            
            _buf['$<<']("<i");
            _temple_html_attributeremover3 = [];
            _slim_codeattributes7 = style_class;
            if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes7))) {
              
              _slim_codeattributes7 = _slim_codeattributes7.$flatten();
              $send(_slim_codeattributes7, 'map!', [], "to_s".$to_proc());
              $send(_slim_codeattributes7, 'reject!', [], "empty?".$to_proc());
              _temple_html_attributeremover3['$<<'](_slim_codeattributes7.$join(" "));
              } else {
              _temple_html_attributeremover3['$<<'](_slim_codeattributes7)
            };
            _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
            if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
              
              _buf['$<<'](" class=\"");
              _buf['$<<'](_temple_html_attributeremover3);
              _buf['$<<']("\"");};
            _slim_codeattributes8 = self.$attr("title");
            if ($truthy(_slim_codeattributes8)) {
              if (_slim_codeattributes8['$=='](true)) {
                _buf['$<<'](" title")
                } else {
                
                _buf['$<<'](" title=\"");
                _buf['$<<'](_slim_codeattributes8);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("></i>");
          };
        } else if ($truthy((($a = self.type['$==']("icon")) ? self.document['$attr?']("icons")['$!']() : self.type['$==']("icon")))) {
          if ($truthy(self['$attr?']("link"))) {
            
            _buf['$<<']("<a class=\"image\"");
            _slim_codeattributes9 = self.$attr("link");
            if ($truthy(_slim_codeattributes9)) {
              if (_slim_codeattributes9['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes9);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes10 = self.$attr("window");
            if ($truthy(_slim_codeattributes10)) {
              if (_slim_codeattributes10['$=='](true)) {
                _buf['$<<'](" target")
                } else {
                
                _buf['$<<'](" target=\"");
                _buf['$<<'](_slim_codeattributes10);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">[");
            _buf['$<<'](self.$attr("alt"));
            _buf['$<<']("]</a>");
            } else {
            
            _buf['$<<']("[");
            _buf['$<<'](self.$attr("alt"));
            _buf['$<<']("]");
          }
          } else {
          
          src = (function() {if (self.type['$==']("icon")) {
            
            return self.$icon_uri(self.target);
            } else {
            
            return self.$image_uri(self.target);
          }; return nil; })();
          if ($truthy(self['$attr?']("link"))) {
            
            _buf['$<<']("<a class=\"image\"");
            _slim_codeattributes11 = self.$attr("link");
            if ($truthy(_slim_codeattributes11)) {
              if (_slim_codeattributes11['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes11);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes12 = self.$attr("window");
            if ($truthy(_slim_codeattributes12)) {
              if (_slim_codeattributes12['$=='](true)) {
                _buf['$<<'](" target")
                } else {
                
                _buf['$<<'](" target=\"");
                _buf['$<<'](_slim_codeattributes12);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("><img");
            _slim_codeattributes13 = src;
            if ($truthy(_slim_codeattributes13)) {
              if (_slim_codeattributes13['$=='](true)) {
                _buf['$<<'](" src")
                } else {
                
                _buf['$<<'](" src=\"");
                _buf['$<<'](_slim_codeattributes13);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes14 = self.$attr("alt");
            if ($truthy(_slim_codeattributes14)) {
              if (_slim_codeattributes14['$=='](true)) {
                _buf['$<<'](" alt")
                } else {
                
                _buf['$<<'](" alt=\"");
                _buf['$<<'](_slim_codeattributes14);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes15 = self.$attr("width");
            if ($truthy(_slim_codeattributes15)) {
              if (_slim_codeattributes15['$=='](true)) {
                _buf['$<<'](" width")
                } else {
                
                _buf['$<<'](" width=\"");
                _buf['$<<'](_slim_codeattributes15);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes16 = self.$attr("height");
            if ($truthy(_slim_codeattributes16)) {
              if (_slim_codeattributes16['$=='](true)) {
                _buf['$<<'](" height")
                } else {
                
                _buf['$<<'](" height=\"");
                _buf['$<<'](_slim_codeattributes16);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes17 = self.$attr("title");
            if ($truthy(_slim_codeattributes17)) {
              if (_slim_codeattributes17['$=='](true)) {
                _buf['$<<'](" title")
                } else {
                
                _buf['$<<'](" title=\"");
                _buf['$<<'](_slim_codeattributes17);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("></a>");
            } else {
            
            _buf['$<<']("<img");
            _slim_codeattributes18 = src;
            if ($truthy(_slim_codeattributes18)) {
              if (_slim_codeattributes18['$=='](true)) {
                _buf['$<<'](" src")
                } else {
                
                _buf['$<<'](" src=\"");
                _buf['$<<'](_slim_codeattributes18);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes19 = self.$attr("alt");
            if ($truthy(_slim_codeattributes19)) {
              if (_slim_codeattributes19['$=='](true)) {
                _buf['$<<'](" alt")
                } else {
                
                _buf['$<<'](" alt=\"");
                _buf['$<<'](_slim_codeattributes19);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes20 = self.$attr("width");
            if ($truthy(_slim_codeattributes20)) {
              if (_slim_codeattributes20['$=='](true)) {
                _buf['$<<'](" width")
                } else {
                
                _buf['$<<'](" width=\"");
                _buf['$<<'](_slim_codeattributes20);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes21 = self.$attr("height");
            if ($truthy(_slim_codeattributes21)) {
              if (_slim_codeattributes21['$=='](true)) {
                _buf['$<<'](" height")
                } else {
                
                _buf['$<<'](" height=\"");
                _buf['$<<'](_slim_codeattributes21);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes22 = self.$attr("title");
            if ($truthy(_slim_codeattributes22)) {
              if (_slim_codeattributes22['$=='](true)) {
                _buf['$<<'](" title")
                } else {
                
                _buf['$<<'](" title=\"");
                _buf['$<<'](_slim_codeattributes22);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
          };
        };
        _buf['$<<']("</span>");
        return (_buf = _buf.$join(""));}, TMP_15.$$s = self, TMP_15.$$arity = 0, TMP_15));
    }, TMP_Converter_inline_image_16.$$arity = -2);
    
    Opal.defn(self, '$toc', TMP_Converter_toc_18 = function $$toc(node, opts) {
      var TMP_17, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_17 = function(){var self = TMP_17.$$s || this, _buf = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes1 = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div id=\"toc\"");
        _temple_html_attributeremover1 = [];
        _slim_codeattributes1 = self.$attr("toc-class", "toc");
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes1)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _buf['$<<']("><div id=\"toctitle\">");
        _buf['$<<'](self.$attr("toc-title"));
        _buf['$<<']("</div>");
        _buf['$<<'](self.$converter().$convert(self.$document(), "outline"));
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_17.$$s = self, TMP_17.$$arity = 0, TMP_17));
    }, TMP_Converter_toc_18.$$arity = -2);
    
    Opal.defn(self, '$inline_indexterm', TMP_Converter_inline_indexterm_20 = function $$inline_indexterm(node, opts) {
      var TMP_19, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_19 = function(){var self = TMP_19.$$s || this, _buf = nil;
        if (self.type == null) self.type = nil;
        if (self.text == null) self.text = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if (self.type['$==']("visible")) {
          _buf['$<<'](self.text)};
        return (_buf = _buf.$join(""));}, TMP_19.$$s = self, TMP_19.$$arity = 0, TMP_19));
    }, TMP_Converter_inline_indexterm_20.$$arity = -2);
    
    Opal.defn(self, '$pass', TMP_Converter_pass_22 = function $$pass(node, opts) {
      var TMP_21, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_21 = function(){var self = TMP_21.$$s || this, _buf = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<'](self.$content());
        return (_buf = _buf.$join(""));}, TMP_21.$$s = self, TMP_21.$$arity = 0, TMP_21));
    }, TMP_Converter_pass_22.$$arity = -2);
    
    Opal.defn(self, '$inline_button', TMP_Converter_inline_button_24 = function $$inline_button(node, opts) {
      var TMP_23, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_23 = function(){var self = TMP_23.$$s || this, _buf = nil;
        if (self.text == null) self.text = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<b class=\"button\">");
        _buf['$<<'](self.text);
        _buf['$<<']("</b>");
        return (_buf = _buf.$join(""));}, TMP_23.$$s = self, TMP_23.$$arity = 0, TMP_23));
    }, TMP_Converter_inline_button_24.$$arity = -2);
    
    Opal.defn(self, '$paragraph', TMP_Converter_paragraph_26 = function $$paragraph(node, opts) {
      var TMP_25, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_25 = function(){var self = TMP_25.$$s || this, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "paragraph"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        if ($truthy(self['$has_role?']("small"))) {
          
          _buf['$<<']("<small>");
          _buf['$<<'](self.$content());
          _buf['$<<']("</small>");
          } else {
          
          _buf['$<<']("<p>");
          _buf['$<<'](self.$content());
          _buf['$<<']("</p>");
        };
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_25.$$s = self, TMP_25.$$arity = 0, TMP_25));
    }, TMP_Converter_paragraph_26.$$arity = -2);
    
    Opal.defn(self, '$example', TMP_Converter_example_28 = function $$example(node, opts) {
      var TMP_27, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_27 = function(){var self = TMP_27.$$s || this, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "exampleblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$captioned_title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<div class=\"content\">");
        _buf['$<<'](self.$content());
        _buf['$<<']("</div></div>");
        return (_buf = _buf.$join(""));}, TMP_27.$$s = self, TMP_27.$$arity = 0, TMP_27));
    }, TMP_Converter_example_28.$$arity = -2);
    
    Opal.defn(self, '$dlist', TMP_Converter_dlist_36 = function $$dlist(node, opts) {
      var TMP_29, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_29 = function(){var self = TMP_29.$$s || this, TMP_30, $a, TMP_32, TMP_34, _buf = nil, $case = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _temple_html_attributemerger2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, _temple_html_attributeremover4 = nil, _temple_html_attributemerger3 = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        $case = self.style;
        if ("qanda"['$===']($case)) {
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "qlist"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = ["qanda", self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<ol>");
        $send(self.$items(), 'each', [], (TMP_30 = function(questions, answer){var self = TMP_30.$$s || this, TMP_31;
if (questions == null) questions = nil;if (answer == null) answer = nil;
        
          _buf['$<<']("<li>");
          $send([].concat(Opal.to_a(questions)), 'each', [], (TMP_31 = function(question){var self = TMP_31.$$s || this;
if (question == null) question = nil;
          
            _buf['$<<']("<p><em>");
            _buf['$<<'](question.$text());
            return _buf['$<<']("</em></p>");}, TMP_31.$$s = self, TMP_31.$$arity = 1, TMP_31));
          if ($truthy(answer['$nil?']())) {
            } else {
            
            if ($truthy(answer['$text?']())) {
              
              _buf['$<<']("<p>");
              _buf['$<<'](answer.$text());
              _buf['$<<']("</p>");};
            if ($truthy(answer['$blocks?']())) {
              _buf['$<<'](answer.$content())};
          };
          return _buf['$<<']("</li>");}, TMP_30.$$s = self, TMP_30.$$arity = 2, TMP_30));
        _buf['$<<']("</ol></div>");}
        else if ("horizontal"['$===']($case)) {
        _buf['$<<']("<div");
        _temple_html_attributeremover2 = [];
        _temple_html_attributemerger2 = [];
        
        $writer = [0, "hdlist"];
        $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes3 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
          
          _slim_codeattributes3 = _slim_codeattributes3.$flatten();
          $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger2['$[]'](1)['$<<'](_slim_codeattributes3.$join(" "));
          } else {
          _temple_html_attributemerger2['$[]'](1)['$<<'](_slim_codeattributes3)
        };
        
        $writer = [1, _temple_html_attributemerger2['$[]'](1).$join("")];
        $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover2['$<<']($send(_temple_html_attributemerger2, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
        if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover2);
          _buf['$<<']("\"");};
        _slim_codeattributes4 = self.id;
        if ($truthy(_slim_codeattributes4)) {
          if (_slim_codeattributes4['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes4);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<table>");
        if ($truthy(($truthy($a = self['$attr?']("labelwidth")) ? $a : self['$attr?']("itemwidth")))) {
          
          _buf['$<<']("<colgroup><col");
          _slim_codeattributes5 = (function() {if ($truthy(self['$attr?']("labelwidth"))) {
            return "" + "width:" + (self.$attr("labelwidth").$chomp("%")) + "%;"
            } else {
            return nil
          }; return nil; })();
          if ($truthy(_slim_codeattributes5)) {
            if (_slim_codeattributes5['$=='](true)) {
              _buf['$<<'](" style")
              } else {
              
              _buf['$<<'](" style=\"");
              _buf['$<<'](_slim_codeattributes5);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("><col");
          _slim_codeattributes6 = (function() {if ($truthy(self['$attr?']("itemwidth"))) {
            return "" + "width:" + (self.$attr("itemwidth").$chomp("%")) + "%;"
            } else {
            return nil
          }; return nil; })();
          if ($truthy(_slim_codeattributes6)) {
            if (_slim_codeattributes6['$=='](true)) {
              _buf['$<<'](" style")
              } else {
              
              _buf['$<<'](" style=\"");
              _buf['$<<'](_slim_codeattributes6);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("></colgroup>");};
        $send(self.$items(), 'each', [], (TMP_32 = function(terms, dd){var self = TMP_32.$$s || this, TMP_33, _temple_html_attributeremover3 = nil, _slim_codeattributes7 = nil, last_term = nil;
if (terms == null) terms = nil;if (dd == null) dd = nil;
        
          _buf['$<<']("<tr><td");
          _temple_html_attributeremover3 = [];
          _slim_codeattributes7 = ["hdlist1", (function() {if ($truthy(self['$option?']("strong"))) {
            return "strong"
            } else {
            return nil
          }; return nil; })()];
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes7))) {
            
            _slim_codeattributes7 = _slim_codeattributes7.$flatten();
            $send(_slim_codeattributes7, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes7, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover3['$<<'](_slim_codeattributes7.$join(" "));
            } else {
            _temple_html_attributeremover3['$<<'](_slim_codeattributes7)
          };
          _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
          if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover3);
            _buf['$<<']("\"");};
          _buf['$<<'](">");
          terms = [].concat(Opal.to_a(terms));
          last_term = terms.$last();
          $send(terms, 'each', [], (TMP_33 = function(dt){var self = TMP_33.$$s || this;
if (dt == null) dt = nil;
          
            _buf['$<<'](dt.$text());
            if ($truthy(dt['$!='](last_term))) {
              return _buf['$<<']("<br>")
              } else {
              return nil
            };}, TMP_33.$$s = self, TMP_33.$$arity = 1, TMP_33));
          _buf['$<<']("</td><td class=\"hdlist2\">");
          if ($truthy(dd['$nil?']())) {
            } else {
            
            if ($truthy(dd['$text?']())) {
              
              _buf['$<<']("<p>");
              _buf['$<<'](dd.$text());
              _buf['$<<']("</p>");};
            if ($truthy(dd['$blocks?']())) {
              _buf['$<<'](dd.$content())};
          };
          return _buf['$<<']("</td></tr>");}, TMP_32.$$s = self, TMP_32.$$arity = 2, TMP_32));
        _buf['$<<']("</table></div>");}
        else {
        _buf['$<<']("<div");
        _temple_html_attributeremover4 = [];
        _temple_html_attributemerger3 = [];
        
        $writer = [0, "dlist"];
        $send(_temple_html_attributemerger3, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger3, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes8 = [self.style, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes8))) {
          
          _slim_codeattributes8 = _slim_codeattributes8.$flatten();
          $send(_slim_codeattributes8, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes8, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger3['$[]'](1)['$<<'](_slim_codeattributes8.$join(" "));
          } else {
          _temple_html_attributemerger3['$[]'](1)['$<<'](_slim_codeattributes8)
        };
        
        $writer = [1, _temple_html_attributemerger3['$[]'](1).$join("")];
        $send(_temple_html_attributemerger3, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover4['$<<']($send(_temple_html_attributemerger3, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover4 = _temple_html_attributeremover4.$join("");
        if ($truthy(_temple_html_attributeremover4['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover4);
          _buf['$<<']("\"");};
        _slim_codeattributes9 = self.id;
        if ($truthy(_slim_codeattributes9)) {
          if (_slim_codeattributes9['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes9);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<dl>");
        $send(self.$items(), 'each', [], (TMP_34 = function(terms, dd){var self = TMP_34.$$s || this, TMP_35;
if (terms == null) terms = nil;if (dd == null) dd = nil;
        
          $send([].concat(Opal.to_a(terms)), 'each', [], (TMP_35 = function(dt){var self = TMP_35.$$s || this, _temple_html_attributeremover5 = nil, _slim_codeattributes10 = nil;
            if (self.style == null) self.style = nil;
if (dt == null) dt = nil;
          
            _buf['$<<']("<dt");
            _temple_html_attributeremover5 = [];
            _slim_codeattributes10 = (function() {if ($truthy(self.style)) {
              return nil
              } else {
              return "hdlist1"
            }; return nil; })();
            if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes10))) {
              
              _slim_codeattributes10 = _slim_codeattributes10.$flatten();
              $send(_slim_codeattributes10, 'map!', [], "to_s".$to_proc());
              $send(_slim_codeattributes10, 'reject!', [], "empty?".$to_proc());
              _temple_html_attributeremover5['$<<'](_slim_codeattributes10.$join(" "));
              } else {
              _temple_html_attributeremover5['$<<'](_slim_codeattributes10)
            };
            _temple_html_attributeremover5 = _temple_html_attributeremover5.$join("");
            if ($truthy(_temple_html_attributeremover5['$empty?']()['$!']())) {
              
              _buf['$<<'](" class=\"");
              _buf['$<<'](_temple_html_attributeremover5);
              _buf['$<<']("\"");};
            _buf['$<<'](">");
            _buf['$<<'](dt.$text());
            return _buf['$<<']("</dt>");}, TMP_35.$$s = self, TMP_35.$$arity = 1, TMP_35));
          if ($truthy(dd['$nil?']())) {
            return nil
            } else {
            
            _buf['$<<']("<dd>");
            if ($truthy(dd['$text?']())) {
              
              _buf['$<<']("<p>");
              _buf['$<<'](dd.$text());
              _buf['$<<']("</p>");};
            if ($truthy(dd['$blocks?']())) {
              _buf['$<<'](dd.$content())};
            return _buf['$<<']("</dd>");
          };}, TMP_34.$$s = self, TMP_34.$$arity = 2, TMP_34));
        _buf['$<<']("</dl></div>");};
        return (_buf = _buf.$join(""));}, TMP_29.$$s = self, TMP_29.$$arity = 0, TMP_29));
    }, TMP_Converter_dlist_36.$$arity = -2);
    
    Opal.defn(self, '$colist', TMP_Converter_colist_40 = function $$colist(node, opts) {
      var TMP_37, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_37 = function(){var self = TMP_37.$$s || this, TMP_38, TMP_39, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, font_icons = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;
        if (self.document == null) self.document = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "colist"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = [self.style, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        if ($truthy(self.document['$attr?']("icons"))) {
          
          font_icons = self.document['$attr?']("icons", "font");
          _buf['$<<']("<table>");
          $send(self.$items(), 'each_with_index', [], (TMP_38 = function(item, i){var self = TMP_38.$$s || this, num = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil;
if (item == null) item = nil;if (i == null) i = nil;
          
            num = $rb_plus(i, 1);
            _buf['$<<']("<tr><td>");
            if ($truthy(font_icons)) {
              
              _buf['$<<']("<i class=\"conum\"");
              _slim_codeattributes3 = num;
              if ($truthy(_slim_codeattributes3)) {
                if (_slim_codeattributes3['$=='](true)) {
                  _buf['$<<'](" data-value")
                  } else {
                  
                  _buf['$<<'](" data-value=\"");
                  _buf['$<<'](_slim_codeattributes3);
                  _buf['$<<']("\"");
                }};
              _buf['$<<']("></i><b>");
              _buf['$<<'](num);
              _buf['$<<']("</b>");
              } else {
              
              _buf['$<<']("<img");
              _slim_codeattributes4 = self.$icon_uri("" + "callouts/" + (num));
              if ($truthy(_slim_codeattributes4)) {
                if (_slim_codeattributes4['$=='](true)) {
                  _buf['$<<'](" src")
                  } else {
                  
                  _buf['$<<'](" src=\"");
                  _buf['$<<'](_slim_codeattributes4);
                  _buf['$<<']("\"");
                }};
              _slim_codeattributes5 = num;
              if ($truthy(_slim_codeattributes5)) {
                if (_slim_codeattributes5['$=='](true)) {
                  _buf['$<<'](" alt")
                  } else {
                  
                  _buf['$<<'](" alt=\"");
                  _buf['$<<'](_slim_codeattributes5);
                  _buf['$<<']("\"");
                }};
              _buf['$<<'](">");
            };
            _buf['$<<']("</td><td>");
            _buf['$<<'](item.$text());
            return _buf['$<<']("</td></tr>");}, TMP_38.$$s = self, TMP_38.$$arity = 2, TMP_38));
          _buf['$<<']("</table>");
          } else {
          
          _buf['$<<']("<ol>");
          $send(self.$items(), 'each', [], (TMP_39 = function(item){var self = TMP_39.$$s || this;
if (item == null) item = nil;
          
            _buf['$<<']("<li><p>");
            _buf['$<<'](item.$text());
            return _buf['$<<']("</p></li>");}, TMP_39.$$s = self, TMP_39.$$arity = 1, TMP_39));
          _buf['$<<']("</ol>");
        };
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_37.$$s = self, TMP_37.$$arity = 0, TMP_37));
    }, TMP_Converter_colist_40.$$arity = -2);
    
    Opal.defn(self, '$inline_kbd', TMP_Converter_inline_kbd_43 = function $$inline_kbd(node, opts) {
      var TMP_41, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_41 = function(){var self = TMP_41.$$s || this, TMP_42, _buf = nil, keys = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ((keys = self.$attr("keys")).$size()['$=='](1)) {
          
          _buf['$<<']("<kbd>");
          _buf['$<<'](keys.$first());
          _buf['$<<']("</kbd>");
          } else {
          
          _buf['$<<']("<span class=\"keyseq\">");
          $send(keys, 'each_with_index', [], (TMP_42 = function(key, idx){var self = TMP_42.$$s || this;
if (key == null) key = nil;if (idx == null) idx = nil;
          
            if ($truthy(idx['$zero?']())) {
              } else {
              _buf['$<<']("+")
            };
            _buf['$<<']("<kbd>");
            _buf['$<<'](key);
            return _buf['$<<']("</kbd>");}, TMP_42.$$s = self, TMP_42.$$arity = 2, TMP_42));
          _buf['$<<']("</span>");
        };
        return (_buf = _buf.$join(""));}, TMP_41.$$s = self, TMP_41.$$arity = 0, TMP_41));
    }, TMP_Converter_inline_kbd_43.$$arity = -2);
    
    Opal.defn(self, '$inline_callout', TMP_Converter_inline_callout_45 = function $$inline_callout(node, opts) {
      var TMP_44, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_44 = function(){var self = TMP_44.$$s || this, _buf = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil;
        if (self.document == null) self.document = nil;
        if (self.text == null) self.text = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy(self.document['$attr?']("icons", "font"))) {
          
          _buf['$<<']("<i class=\"conum\"");
          _slim_codeattributes1 = self.text;
          if ($truthy(_slim_codeattributes1)) {
            if (_slim_codeattributes1['$=='](true)) {
              _buf['$<<'](" data-value")
              } else {
              
              _buf['$<<'](" data-value=\"");
              _buf['$<<'](_slim_codeattributes1);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("></i><b>");
          _buf['$<<']("" + "(" + (self.text) + ")");
          _buf['$<<']("</b>");
        } else if ($truthy(self.document['$attr?']("icons"))) {
          
          _buf['$<<']("<img");
          _slim_codeattributes2 = self.$icon_uri("" + "callouts/" + (self.text));
          if ($truthy(_slim_codeattributes2)) {
            if (_slim_codeattributes2['$=='](true)) {
              _buf['$<<'](" src")
              } else {
              
              _buf['$<<'](" src=\"");
              _buf['$<<'](_slim_codeattributes2);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes3 = self.text;
          if ($truthy(_slim_codeattributes3)) {
            if (_slim_codeattributes3['$=='](true)) {
              _buf['$<<'](" alt")
              } else {
              
              _buf['$<<'](" alt=\"");
              _buf['$<<'](_slim_codeattributes3);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          } else {
          
          _buf['$<<']("<b>");
          _buf['$<<']("" + "(" + (self.text) + ")");
          _buf['$<<']("</b>");
        };
        return (_buf = _buf.$join(""));}, TMP_44.$$s = self, TMP_44.$$arity = 0, TMP_44));
    }, TMP_Converter_inline_callout_45.$$arity = -2);
    
    Opal.defn(self, '$preamble', TMP_Converter_preamble_47 = function $$preamble(node, opts) {
      var TMP_46, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_46 = function(){var self = TMP_46.$$s || this, _buf = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        return (_buf = _buf.$join(""));}, TMP_46.$$s = self, TMP_46.$$arity = 0, TMP_46));
    }, TMP_Converter_preamble_47.$$arity = -2);
    
    Opal.defn(self, '$inline_quoted', TMP_Converter_inline_quoted_49 = function $$inline_quoted(node, opts) {
      var TMP_48, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_48 = function(){var self = TMP_48.$$s || this, $a, $b, _buf = nil, _slim_codeattributes1 = nil, $case = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil, _temple_html_attributeremover3 = nil, _slim_codeattributes4 = nil, _temple_html_attributeremover4 = nil, _slim_codeattributes5 = nil, _temple_html_attributeremover5 = nil, _slim_codeattributes6 = nil, open = nil, close = nil;
        if (self.id == null) self.id = nil;
        if (self.type == null) self.type = nil;
        if (self.text == null) self.text = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy(self.id['$nil?']())) {
          } else {
          
          _buf['$<<']("<a");
          _slim_codeattributes1 = self.id;
          if ($truthy(_slim_codeattributes1)) {
            if (_slim_codeattributes1['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes1);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("></a>");
        };
        $case = self.type;
        if ("emphasis"['$===']($case)) {
        _buf['$<<']("<em");
        _temple_html_attributeremover1 = [];
        _slim_codeattributes2 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes2))) {
          
          _slim_codeattributes2 = _slim_codeattributes2.$flatten();
          $send(_slim_codeattributes2, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes2, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</em>");}
        else if ("strong"['$===']($case)) {
        _buf['$<<']("<strong");
        _temple_html_attributeremover2 = [];
        _slim_codeattributes3 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
          
          _slim_codeattributes3 = _slim_codeattributes3.$flatten();
          $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
          } else {
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
        };
        _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
        if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover2);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</strong>");}
        else if ("monospaced"['$===']($case)) {
        _buf['$<<']("<code");
        _temple_html_attributeremover3 = [];
        _slim_codeattributes4 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes4))) {
          
          _slim_codeattributes4 = _slim_codeattributes4.$flatten();
          $send(_slim_codeattributes4, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes4, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover3['$<<'](_slim_codeattributes4.$join(" "));
          } else {
          _temple_html_attributeremover3['$<<'](_slim_codeattributes4)
        };
        _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
        if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover3);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</code>");}
        else if ("superscript"['$===']($case)) {
        _buf['$<<']("<sup");
        _temple_html_attributeremover4 = [];
        _slim_codeattributes5 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes5))) {
          
          _slim_codeattributes5 = _slim_codeattributes5.$flatten();
          $send(_slim_codeattributes5, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes5, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover4['$<<'](_slim_codeattributes5.$join(" "));
          } else {
          _temple_html_attributeremover4['$<<'](_slim_codeattributes5)
        };
        _temple_html_attributeremover4 = _temple_html_attributeremover4.$join("");
        if ($truthy(_temple_html_attributeremover4['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover4);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</sup>");}
        else if ("subscript"['$===']($case)) {
        _buf['$<<']("<sub");
        _temple_html_attributeremover5 = [];
        _slim_codeattributes6 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes6))) {
          
          _slim_codeattributes6 = _slim_codeattributes6.$flatten();
          $send(_slim_codeattributes6, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes6, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover5['$<<'](_slim_codeattributes6.$join(" "));
          } else {
          _temple_html_attributeremover5['$<<'](_slim_codeattributes6)
        };
        _temple_html_attributeremover5 = _temple_html_attributeremover5.$join("");
        if ($truthy(_temple_html_attributeremover5['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover5);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</sub>");}
        else if ("double"['$===']($case)) {_buf['$<<']((function() {if ($truthy(self['$role?']())) {
          return "" + "<span class=\"" + (self.$role()) + "\">&#8220;" + (self.text) + "&#8221;</span>"
          } else {
          return "" + "&#8220;" + (self.text) + "&#8221;"
        }; return nil; })())}
        else if ("single"['$===']($case)) {_buf['$<<']((function() {if ($truthy(self['$role?']())) {
          return "" + "<span class=\"" + (self.$role()) + "\">&#8216;" + (self.text) + "&#8217;</span>"
          } else {
          return "" + "&#8216;" + (self.text) + "&#8217;"
        }; return nil; })())}
        else if ("asciimath"['$===']($case) || "latexmath"['$===']($case)) {
        $b = Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'INLINE_MATH_DELIMITERS')['$[]'](self.type), $a = Opal.to_ary($b), (open = ($a[0] == null ? nil : $a[0])), (close = ($a[1] == null ? nil : $a[1])), $b;
        _buf['$<<'](open);
        _buf['$<<'](self.text);
        _buf['$<<'](close);}
        else {_buf['$<<']((function() {if ($truthy(self['$role?']())) {
          return "" + "<span class=\"" + (self.$role()) + "\">" + (self.text) + "</span>"
          } else {
          return self.text
        }; return nil; })())};
        return (_buf = _buf.$join(""));}, TMP_48.$$s = self, TMP_48.$$arity = 0, TMP_48));
    }, TMP_Converter_inline_quoted_49.$$arity = -2);
    
    Opal.defn(self, '$olist', TMP_Converter_olist_52 = function $$olist(node, opts) {
      var TMP_50, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_50 = function(){var self = TMP_50.$$s || this, TMP_51, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "olist"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = [self.style, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<ol");
        _temple_html_attributeremover2 = [];
        _slim_codeattributes3 = self.style;
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
          
          _slim_codeattributes3 = _slim_codeattributes3.$flatten();
          $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
          } else {
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
        };
        _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
        if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover2);
          _buf['$<<']("\"");};
        _slim_codeattributes4 = self.$attr("start");
        if ($truthy(_slim_codeattributes4)) {
          if (_slim_codeattributes4['$=='](true)) {
            _buf['$<<'](" start")
            } else {
            
            _buf['$<<'](" start=\"");
            _buf['$<<'](_slim_codeattributes4);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes5 = self.$list_marker_keyword();
        if ($truthy(_slim_codeattributes5)) {
          if (_slim_codeattributes5['$=='](true)) {
            _buf['$<<'](" type")
            } else {
            
            _buf['$<<'](" type=\"");
            _buf['$<<'](_slim_codeattributes5);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        $send(self.$items(), 'each', [], (TMP_51 = function(item){var self = TMP_51.$$s || this, $a, _temple_html_attributeremover3 = nil, _slim_codeattributes6 = nil;
if (item == null) item = nil;
        
          _buf['$<<']("<li");
          _temple_html_attributeremover3 = [];
          _slim_codeattributes6 = (function() {if ($truthy(($truthy($a = self['$option?']("step")) ? $a : self['$has_role?']("step")))) {
            return "fragment"
            } else {
            return nil
          }; return nil; })();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes6))) {
            
            _slim_codeattributes6 = _slim_codeattributes6.$flatten();
            $send(_slim_codeattributes6, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes6, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover3['$<<'](_slim_codeattributes6.$join(" "));
            } else {
            _temple_html_attributeremover3['$<<'](_slim_codeattributes6)
          };
          _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
          if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover3);
            _buf['$<<']("\"");};
          _buf['$<<']("><p>");
          _buf['$<<'](item.$text());
          _buf['$<<']("</p>");
          if ($truthy(item['$blocks?']())) {
            _buf['$<<'](item.$content())};
          return _buf['$<<']("</li>");}, TMP_51.$$s = self, TMP_51.$$arity = 1, TMP_51));
        _buf['$<<']("</ol></div>");
        return (_buf = _buf.$join(""));}, TMP_50.$$s = self, TMP_50.$$arity = 0, TMP_50));
    }, TMP_Converter_olist_52.$$arity = -2);
    
    Opal.defn(self, '$inline_anchor', TMP_Converter_inline_anchor_54 = function $$inline_anchor(node, opts) {
      var TMP_53, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_53 = function(){var self = TMP_53.$$s || this, $a, _buf = nil, $case = nil, refid = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil;
        if (self.type == null) self.type = nil;
        if (self.target == null) self.target = nil;
        if (self.text == null) self.text = nil;
        if (self.document == null) self.document = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        $case = self.type;
        if ("xref"['$===']($case)) {
        refid = ($truthy($a = self.$attr("refid")) ? $a : self.target);
        _buf['$<<']("<a");
        _slim_codeattributes1 = self.target;
        if ($truthy(_slim_codeattributes1)) {
          if (_slim_codeattributes1['$=='](true)) {
            _buf['$<<'](" href")
            } else {
            
            _buf['$<<'](" href=\"");
            _buf['$<<'](_slim_codeattributes1);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        _buf['$<<'](($truthy($a = self.text) ? $a : self.document.$references()['$[]']("ids").$fetch(refid, "" + "[" + (refid) + "]")).$tr_s("\n", " "));
        _buf['$<<']("</a>");}
        else if ("ref"['$===']($case)) {
        _buf['$<<']("<a");
        _slim_codeattributes2 = self.target;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("></a>");}
        else if ("bibref"['$===']($case)) {
        _buf['$<<']("<a");
        _slim_codeattributes3 = self.target;
        if ($truthy(_slim_codeattributes3)) {
          if (_slim_codeattributes3['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes3);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("></a>[");
        _buf['$<<'](self.target);
        _buf['$<<']("]");}
        else {
        _buf['$<<']("<a");
        _slim_codeattributes4 = self.target;
        if ($truthy(_slim_codeattributes4)) {
          if (_slim_codeattributes4['$=='](true)) {
            _buf['$<<'](" href")
            } else {
            
            _buf['$<<'](" href=\"");
            _buf['$<<'](_slim_codeattributes4);
            _buf['$<<']("\"");
          }};
        _temple_html_attributeremover1 = [];
        _slim_codeattributes5 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes5))) {
          
          _slim_codeattributes5 = _slim_codeattributes5.$flatten();
          $send(_slim_codeattributes5, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes5, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes5.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes5)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes6 = self.$attr("window");
        if ($truthy(_slim_codeattributes6)) {
          if (_slim_codeattributes6['$=='](true)) {
            _buf['$<<'](" target")
            } else {
            
            _buf['$<<'](" target=\"");
            _buf['$<<'](_slim_codeattributes6);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        _buf['$<<'](self.text);
        _buf['$<<']("</a>");};
        return (_buf = _buf.$join(""));}, TMP_53.$$s = self, TMP_53.$$arity = 0, TMP_53));
    }, TMP_Converter_inline_anchor_54.$$arity = -2);
    
    Opal.defn(self, '$document', TMP_Converter_document_57 = function $$document(node, opts) {
      var TMP_55, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_55 = function(){var self = TMP_55.$$s || this, TMP_56, $a, _buf = nil, _slim_codeattributes1 = nil, revealjsdir = nil, asset_uri_scheme = nil, cdn_base = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, eqnums_val = nil, eqnums_opt = nil, $case = nil, _slim_codeattributes7 = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil, docinfo_content = nil, _slim_codeattributes10 = nil, customcss = nil, bg_image = nil, bg_video = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes11 = nil, _slim_codeattributes12 = nil, _slim_codeattributes13 = nil, _slim_codeattributes14 = nil, _slim_codeattributes15 = nil, _slim_codeattributes16 = nil, _slim_codeattributes17 = nil, _slim_codeattributes18 = nil, _slim_codeattributes19 = nil, _slim_codeattributes20 = nil, _slim_codeattributes21 = nil, _slim_codeattributes22 = nil, _slim_codeattributes23 = nil, _slim_codeattributes24 = nil, _title_obj = nil, _slice = nil, preamble = nil;
        if (self.safe == null) self.safe = nil;
        if (self.header == null) self.header = nil;
        if (self.document == null) self.document = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<!DOCTYPE html><html");
        _slim_codeattributes1 = (function() {if ($truthy(self['$attr?']("nolang"))) {
          return nil
          } else {
          return self.$attr("lang", "en")
        }; return nil; })();
        if ($truthy(_slim_codeattributes1)) {
          if (_slim_codeattributes1['$=='](true)) {
            _buf['$<<'](" lang")
            } else {
            
            _buf['$<<'](" lang=\"");
            _buf['$<<'](_slim_codeattributes1);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("><head><meta charset=\"utf-8\">");
        revealjsdir = self.$attr("revealjsdir", "reveal.js");
        if ($truthy((asset_uri_scheme = self.$attr("asset-uri-scheme", "https"))['$empty?']())) {
          } else {
          asset_uri_scheme = "" + (asset_uri_scheme) + ":"
        };
        cdn_base = "" + (asset_uri_scheme) + "//cdnjs.cloudflare.com/ajax/libs";
        $send(["description", "keywords", "author", "copyright"], 'each', [], (TMP_56 = function(key){var self = TMP_56.$$s || this, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil;
if (key == null) key = nil;
        if ($truthy(self['$attr?'](key))) {
            
            _buf['$<<']("<meta");
            _slim_codeattributes2 = key;
            if ($truthy(_slim_codeattributes2)) {
              if (_slim_codeattributes2['$=='](true)) {
                _buf['$<<'](" name")
                } else {
                
                _buf['$<<'](" name=\"");
                _buf['$<<'](_slim_codeattributes2);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes3 = self.$attr(key);
            if ($truthy(_slim_codeattributes3)) {
              if (_slim_codeattributes3['$=='](true)) {
                _buf['$<<'](" content")
                } else {
                
                _buf['$<<'](" content=\"");
                _buf['$<<'](_slim_codeattributes3);
                _buf['$<<']("\"");
              }};
            return _buf['$<<'](">");
            } else {
            return nil
          }}, TMP_56.$$s = self, TMP_56.$$arity = 1, TMP_56));
        _buf['$<<']("<title>");
        _buf['$<<'](self.$doctitle($hash2(["sanitize", "use_fallback"], {"sanitize": true, "use_fallback": true})));
        _buf['$<<']("</title><meta content=\"yes\" name=\"apple-mobile-web-app-capable\"><meta content=\"black-translucent\" name=\"apple-mobile-web-app-status-bar-style\"><meta content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui\" name=\"viewport\"><link href=\"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/css/reveal.css\" rel=\"stylesheet\">");
        if ($truthy(self['$attr?']("revealjs_customtheme"))) {
          
          _buf['$<<']("<link rel=\"stylesheet\"");
          _slim_codeattributes4 = self.$attr("revealjs_customtheme");
          if ($truthy(_slim_codeattributes4)) {
            if (_slim_codeattributes4['$=='](true)) {
              _buf['$<<'](" href")
              } else {
              
              _buf['$<<'](" href=\"");
              _buf['$<<'](_slim_codeattributes4);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](" id=\"theme\">");
          } else {
          
          _buf['$<<']("<link rel=\"stylesheet\" href=\"");
          _buf['$<<'](revealjsdir);
          _buf['$<<']("/css/theme/");
          _buf['$<<'](self.$attr("revealjs_theme", "black"));
          _buf['$<<'](".css\" id=\"theme\">");
        };
        if ($truthy(self['$attr?']("icons", "font"))) {
          if ($truthy(self['$attr?']("iconfont-remote"))) {
            
            _buf['$<<']("<link rel=\"stylesheet\"");
            _slim_codeattributes5 = self.$attr("iconfont-cdn", "" + (cdn_base) + "/font-awesome/4.3.0/css/font-awesome.min.css");
            if ($truthy(_slim_codeattributes5)) {
              if (_slim_codeattributes5['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes5);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
            } else {
            
            _buf['$<<']("<link rel=\"stylesheet\"");
            _slim_codeattributes6 = self.$normalize_web_path("" + (self.$attr("iconfont-name", "font-awesome")) + ".css", self.$attr("stylesdir", ""), false);
            if ($truthy(_slim_codeattributes6)) {
              if (_slim_codeattributes6['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes6);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
          }};
        if ($truthy(self['$attr?']("stem"))) {
          
          eqnums_val = self.$attr("eqnums", "none");
          if (eqnums_val['$==']("")) {
            eqnums_val = "AMS"};
          eqnums_opt = "" + " equationNumbers: { autoNumber: \"" + (eqnums_val) + "\" } ";
          _buf['$<<']("<script type=\"text/x-mathjax-config\">MathJax.Hub.Config({\ntex2jax: {\n  inlineMath: [");
          _buf['$<<'](Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'INLINE_MATH_DELIMITERS')['$[]']("latexmath").$to_s());
          _buf['$<<']("],\n  displayMath: [");
          _buf['$<<'](Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'BLOCK_MATH_DELIMITERS')['$[]']("latexmath").$to_s());
          _buf['$<<']("],\n  ignoreClass: \"nostem|nolatexmath\"\n},\nasciimath2jax: {\n  delimiters: [");
          _buf['$<<'](Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'BLOCK_MATH_DELIMITERS')['$[]']("asciimath").$to_s());
          _buf['$<<']("],\n  ignoreClass: \"nostem|noasciimath\"\n},\nTeX: {");
          _buf['$<<'](eqnums_opt);
          _buf['$<<']("}\n});</script><script src=\"");
          _buf['$<<'](cdn_base);
          _buf['$<<']("/mathjax/2.4.0/MathJax.js?config=TeX-MML-AM_HTMLorMML\"></script>");};
        $case = self.$attr("source-highlighter");
        if ("coderay"['$===']($case)) {if (self.$attr("coderay-css", "class")['$==']("class")) {
          if ($truthy(($truthy($a = $rb_ge(self.safe, Opal.const_get_qualified(Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'SafeMode'), 'SECURE'))) ? $a : self['$attr?']("linkcss")))) {
            
            _buf['$<<']("<link rel=\"stylesheet\"");
            _slim_codeattributes7 = self.$normalize_web_path("asciidoctor-coderay.css", self.$attr("stylesdir", ""));
            if ($truthy(_slim_codeattributes7)) {
              if (_slim_codeattributes7['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes7);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
            } else {
            
            _buf['$<<']("<style>");
            _buf['$<<'](Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'Stylesheets').$instance().$coderay_stylesheet_data());
            _buf['$<<']("</style>");
          }}}
        else if ("pygments"['$===']($case)) {if (self.$attr("pygments-css", "class")['$==']("class")) {
          if ($truthy(($truthy($a = $rb_ge(self.safe, Opal.const_get_qualified(Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'SafeMode'), 'SECURE'))) ? $a : self['$attr?']("linkcss")))) {
            
            _buf['$<<']("<link rel=\"stylesheet\"");
            _slim_codeattributes8 = self.$normalize_web_path("asciidoctor-pygments.css", self.$attr("stylesdir", ""));
            if ($truthy(_slim_codeattributes8)) {
              if (_slim_codeattributes8['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes8);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
            } else {
            
            _buf['$<<']("<style>");
            _buf['$<<'](Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'Stylesheets').$instance().$pygments_stylesheet_data(self.$attr("pygments-style")));
            _buf['$<<']("</style>");
          }}};
        if ($truthy(self['$attr?']("highlightjs-theme"))) {
          
          _buf['$<<']("<link");
          _slim_codeattributes9 = self.$attr("highlightjs-theme");
          if ($truthy(_slim_codeattributes9)) {
            if (_slim_codeattributes9['$=='](true)) {
              _buf['$<<'](" href")
              } else {
              
              _buf['$<<'](" href=\"");
              _buf['$<<'](_slim_codeattributes9);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](" rel=\"stylesheet\">");
          } else {
          
          _buf['$<<']("<link href=\"");
          _buf['$<<'](revealjsdir);
          _buf['$<<']("/lib/css/zenburn.css\" rel=\"stylesheet\">");
        };
        _buf['$<<']("<script>var link = document.createElement( 'link' );\nlink.rel = 'stylesheet';\nlink.type = 'text/css';\nlink.href = window.location.search.match( /print-pdf/gi ) ? \"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/css/print/pdf.css\" : \"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/css/print/paper.css\";\ndocument.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src=\"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/lib/js/html5shiv.js\"></script><![endif]-->");
        if ($truthy((docinfo_content = self.$docinfo("header", ".html"))['$empty?']())) {
          } else {
          _buf['$<<'](docinfo_content)
        };
        if ($truthy(self['$attr?']("customcss"))) {
          
          _buf['$<<']("<link rel=\"stylesheet\"");
          _slim_codeattributes10 = (function() {if ($truthy((customcss = self.$attr("customcss"))['$empty?']())) {
            return "asciidoctor-revealjs.css"
            } else {
            return customcss
          }; return nil; })();
          if ($truthy(_slim_codeattributes10)) {
            if (_slim_codeattributes10['$=='](true)) {
              _buf['$<<'](" href")
              } else {
              
              _buf['$<<'](" href=\"");
              _buf['$<<'](_slim_codeattributes10);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");};
        _buf['$<<']("</head><body><div class=\"reveal\"><div class=\"slides\">");
        if ($truthy(($truthy($a = self.$notitle()) ? $a : self['$has_header?']()['$!']()))) {
          } else {
          
          bg_image = (function() {if ($truthy(self['$attr?']("title-slide-background-image"))) {
            
            return self.$image_uri(self.$attr("title-slide-background-image"));
            } else {
            return nil
          }; return nil; })();
          bg_video = (function() {if ($truthy(self['$attr?']("title-slide-background-video"))) {
            
            return self.$media_uri(self.$attr("title-slide-background-video"));
            } else {
            return nil
          }; return nil; })();
          _buf['$<<']("<section");
          _temple_html_attributeremover1 = [];
          _temple_html_attributemerger1 = [];
          
          $writer = [0, "title"];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          
          $writer = [1, []];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _slim_codeattributes11 = self.$role();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes11))) {
            
            _slim_codeattributes11 = _slim_codeattributes11.$flatten();
            $send(_slim_codeattributes11, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes11, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes11.$join(" "));
            } else {
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes11)
          };
          
          $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
          _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
          if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover1);
            _buf['$<<']("\"");};
          _buf['$<<'](" data-state=\"title\"");
          _slim_codeattributes12 = self.$attr("title-slide-transition");
          if ($truthy(_slim_codeattributes12)) {
            if (_slim_codeattributes12['$=='](true)) {
              _buf['$<<'](" data-transition")
              } else {
              
              _buf['$<<'](" data-transition=\"");
              _buf['$<<'](_slim_codeattributes12);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes13 = self.$attr("title-slide-transition-speed");
          if ($truthy(_slim_codeattributes13)) {
            if (_slim_codeattributes13['$=='](true)) {
              _buf['$<<'](" data-transition-speed")
              } else {
              
              _buf['$<<'](" data-transition-speed=\"");
              _buf['$<<'](_slim_codeattributes13);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes14 = self.$attr("title-slide-background");
          if ($truthy(_slim_codeattributes14)) {
            if (_slim_codeattributes14['$=='](true)) {
              _buf['$<<'](" data-background")
              } else {
              
              _buf['$<<'](" data-background=\"");
              _buf['$<<'](_slim_codeattributes14);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes15 = self.$attr("title-slide-background-size");
          if ($truthy(_slim_codeattributes15)) {
            if (_slim_codeattributes15['$=='](true)) {
              _buf['$<<'](" data-background-size")
              } else {
              
              _buf['$<<'](" data-background-size=\"");
              _buf['$<<'](_slim_codeattributes15);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes16 = bg_image;
          if ($truthy(_slim_codeattributes16)) {
            if (_slim_codeattributes16['$=='](true)) {
              _buf['$<<'](" data-background-image")
              } else {
              
              _buf['$<<'](" data-background-image=\"");
              _buf['$<<'](_slim_codeattributes16);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes17 = bg_video;
          if ($truthy(_slim_codeattributes17)) {
            if (_slim_codeattributes17['$=='](true)) {
              _buf['$<<'](" data-background-video")
              } else {
              
              _buf['$<<'](" data-background-video=\"");
              _buf['$<<'](_slim_codeattributes17);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes18 = self.$attr("title-slide-background-video-loop");
          if ($truthy(_slim_codeattributes18)) {
            if (_slim_codeattributes18['$=='](true)) {
              _buf['$<<'](" data-background-video-loop")
              } else {
              
              _buf['$<<'](" data-background-video-loop=\"");
              _buf['$<<'](_slim_codeattributes18);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes19 = self.$attr("title-slide-background-video-muted");
          if ($truthy(_slim_codeattributes19)) {
            if (_slim_codeattributes19['$=='](true)) {
              _buf['$<<'](" data-background-video-muted")
              } else {
              
              _buf['$<<'](" data-background-video-muted=\"");
              _buf['$<<'](_slim_codeattributes19);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes20 = self.$attr("title-slide-background-iframe");
          if ($truthy(_slim_codeattributes20)) {
            if (_slim_codeattributes20['$=='](true)) {
              _buf['$<<'](" data-background-iframe")
              } else {
              
              _buf['$<<'](" data-background-iframe=\"");
              _buf['$<<'](_slim_codeattributes20);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes21 = self.$attr("title-slide-background-color");
          if ($truthy(_slim_codeattributes21)) {
            if (_slim_codeattributes21['$=='](true)) {
              _buf['$<<'](" data-background-color")
              } else {
              
              _buf['$<<'](" data-background-color=\"");
              _buf['$<<'](_slim_codeattributes21);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes22 = self.$attr("title-slide-background-repeat");
          if ($truthy(_slim_codeattributes22)) {
            if (_slim_codeattributes22['$=='](true)) {
              _buf['$<<'](" data-background-repeat")
              } else {
              
              _buf['$<<'](" data-background-repeat=\"");
              _buf['$<<'](_slim_codeattributes22);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes23 = self.$attr("title-slide-background-position");
          if ($truthy(_slim_codeattributes23)) {
            if (_slim_codeattributes23['$=='](true)) {
              _buf['$<<'](" data-background-position")
              } else {
              
              _buf['$<<'](" data-background-position=\"");
              _buf['$<<'](_slim_codeattributes23);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes24 = self.$attr("title-slide-background-transition");
          if ($truthy(_slim_codeattributes24)) {
            if (_slim_codeattributes24['$=='](true)) {
              _buf['$<<'](" data-background-transition")
              } else {
              
              _buf['$<<'](" data-background-transition=\"");
              _buf['$<<'](_slim_codeattributes24);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          if ($truthy((_title_obj = self.$doctitle($hash2(["partition", "use_fallback"], {"partition": true, "use_fallback": true})))['$subtitle?']())) {
            
            _buf['$<<']("<h1>");
            _buf['$<<'](self.$slice_text(_title_obj.$title(), (_slice = self.$header()['$option?']("slice"))));
            _buf['$<<']("</h1><h2>");
            _buf['$<<'](self.$slice_text(_title_obj.$subtitle(), _slice));
            _buf['$<<']("</h2>");
            } else {
            
            _buf['$<<']("<h1>");
            _buf['$<<'](self.header.$title());
            _buf['$<<']("</h1>");
          };
          preamble = self.document.$find_by($hash2(["context"], {"context": "preamble"}));
          if ($truthy(($truthy($a = preamble['$nil?']()) ? $a : preamble.$length()['$=='](0)))) {
            } else {
            
            _buf['$<<']("<div class=\"preamble\">");
            _buf['$<<'](preamble.$pop().$content());
            _buf['$<<']("</div>");
          };
          if ($truthy(self.$author()['$nil?']())) {
            } else {
            
            _buf['$<<']("<p class=\"author\"><small>");
            _buf['$<<'](self.$author());
            _buf['$<<']("</small></p>");
          };
          _buf['$<<']("</section>");
        };
        _buf['$<<'](self.$content());
        _buf['$<<']("</div></div><script src=\"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/lib/js/head.min.js\"></script><script src=\"");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/js/reveal.js\"></script><script>// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options\nReveal.initialize({\n  // Display controls in the bottom right corner\n  controls: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_controls", true)));
        _buf['$<<'](",\n  // Display a presentation progress bar\n  progress: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_progress", true)));
        _buf['$<<'](",\n  // Set a per-slide timing for speaker notes, null means none\n  defaultTiming: ");
        _buf['$<<'](self.$attr("revealjs_defaultTiming", "null"));
        _buf['$<<'](",\n  // Display the page number of the current slide\n  slideNumber: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_slidenumber", false)));
        _buf['$<<'](",\n  // Push each slide change to the browser history\n  history: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_history", false)));
        _buf['$<<'](",\n  // Enable keyboard shortcuts for navigation\n  keyboard: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_keyboard", true)));
        _buf['$<<'](",\n  // Enable the slide overview mode\n  overview: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_overview", true)));
        _buf['$<<'](",\n  // Vertical centering of slides\n  center: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_center", true)));
        _buf['$<<'](",\n  // Enables touch navigation on devices with touch input\n  touch: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_touch", true)));
        _buf['$<<'](",\n  // Loop the presentation\n  loop: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_loop", false)));
        _buf['$<<'](",\n  // Change the presentation direction to be RTL\n  rtl: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_rtl", false)));
        _buf['$<<'](",\n  // Randomizes the order of slides each time the presentation loads\n  shuffle: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_shuffle", false)));
        _buf['$<<'](",\n  // Turns fragments on and off globally\n  fragments: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_fragments", true)));
        _buf['$<<'](",\n  // Flags if the presentation is running in an embedded mode,\n  // i.e. contained within a limited portion of the screen\n  embedded: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_embedded", false)));
        _buf['$<<'](",\n  // Flags if we should show a help overlay when the questionmark\n  // key is pressed\n  help: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_help", true)));
        _buf['$<<'](",\n  // Flags if speaker notes should be visible to all viewers\n  showNotes: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_showNotes", false)));
        _buf['$<<'](",\n  // Global override for autolaying embedded media (video/audio/iframe)\n  // - null: Media will only autoplay if data-autoplay is present\n  // - true: All media will autoplay, regardless of individual setting\n  // - false: No media will autoplay, regardless of individual setting\n  autoPlayMedia: ");
        _buf['$<<'](self.$attr("revealjs_autoPlayMedia", "null"));
        _buf['$<<'](",\n  // Number of milliseconds between automatically proceeding to the\n  // next slide, disabled when set to 0, this value can be overwritten\n  // by using a data-autoslide attribute on your slides\n  autoSlide: ");
        _buf['$<<'](self.$attr("revealjs_autoslide", 0));
        _buf['$<<'](",\n  // Stop auto-sliding after user input\n  autoSlideStoppable: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_autoslidestoppable", true)));
        _buf['$<<'](",\n  // Enable slide navigation via mouse wheel\n  mouseWheel: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_mousewheel", false)));
        _buf['$<<'](",\n  // Hides the address bar on mobile devices\n  hideAddressBar: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_hideaddressbar", true)));
        _buf['$<<'](",\n  // Opens links in an iframe preview overlay\n  previewLinks: ");
        _buf['$<<'](self.$to_boolean(self.$attr("revealjs_previewlinks", false)));
        _buf['$<<'](",\n  // Theme (e.g., beige, black, league, night, serif, simple, sky, solarized, white)\n  // NOTE setting the theme in the config no longer works in reveal.js 3.x\n  //theme: Reveal.getQueryHash().theme || '");
        _buf['$<<'](self.$attr("revealjs_theme", "black"));
        _buf['$<<']("',\n  // Transition style (e.g., none, fade, slide, convex, concave, zoom)\n  transition: Reveal.getQueryHash().transition || '");
        _buf['$<<'](self.$attr("revealjs_transition", "slide"));
        _buf['$<<']("',\n  // Transition speed (e.g., default, fast, slow)\n  transitionSpeed: '");
        _buf['$<<'](self.$attr("revealjs_transitionspeed", "default"));
        _buf['$<<']("',\n  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)\n  backgroundTransition: '");
        _buf['$<<'](self.$attr("revealjs_backgroundtransition", "fade"));
        _buf['$<<']("',\n  // Number of slides away from the current that are visible\n  viewDistance: ");
        _buf['$<<'](self.$attr("revealjs_viewdistance", 3));
        _buf['$<<'](",\n  // Parallax background image (e.g., \"'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'\")\n  parallaxBackgroundImage: '");
        _buf['$<<'](self.$attr("revealjs_parallaxbackgroundimage", ""));
        _buf['$<<']("',\n  // Parallax background size in CSS syntax (e.g., \"2100px 900px\")\n  parallaxBackgroundSize: '");
        _buf['$<<'](self.$attr("revealjs_parallaxbackgroundsize", ""));
        _buf['$<<']("',\n\n  // The \"normal\" size of the presentation, aspect ratio will be preserved\n  // when the presentation is scaled to fit different resolutions. Can be\n  // specified using percentage units.\n  width: ");
        _buf['$<<'](self.$attr("revealjs_width", 960));
        _buf['$<<'](",\n  height: ");
        _buf['$<<'](self.$attr("revealjs_height", 700));
        _buf['$<<'](",\n\n  // Factor of the display size that should remain empty around the content\n  margin: ");
        _buf['$<<'](self.$attr("revealjs_margin", 0.1));
        _buf['$<<'](",\n\n  // Bounds for smallest/largest possible scale to apply to content\n  minScale: ");
        _buf['$<<'](self.$attr("revealjs_minscale", 0.2));
        _buf['$<<'](",\n  maxScale: ");
        _buf['$<<'](self.$attr("revealjs_maxscale", 1.5));
        _buf['$<<'](",\n\n  // Optional libraries used to extend on reveal.js\n  dependencies: [\n      { src: '");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/lib/js/classList.js', condition: function() { return !document.body.classList; } },\n      { src: '");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },\n      { src: '");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },\n      ");
        _buf['$<<']((function() {if ($truthy(self['$attr?']("source-highlighter", "highlightjs"))) {
          return "" + "{ src: '" + (revealjsdir) + "/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },"
          } else {
          return nil
        }; return nil; })());
        _buf['$<<']("\n      { src: '");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/plugin/zoom-js/zoom.js', async: true },\n      { src: '");
        _buf['$<<'](revealjsdir);
        _buf['$<<']("/plugin/notes/notes.js', async: true }\n  ]\n});</script>");
        if ($truthy((docinfo_content = self.$docinfo("footer", ".html"))['$empty?']())) {
          } else {
          _buf['$<<'](docinfo_content)
        };
        _buf['$<<']("</body></html>");
        return (_buf = _buf.$join(""));}, TMP_55.$$s = self, TMP_55.$$arity = 0, TMP_55));
    }, TMP_Converter_document_57.$$arity = -2);
    
    Opal.defn(self, '$ulist', TMP_Converter_ulist_60 = function $$ulist(node, opts) {
      var TMP_58, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_58 = function(){var self = TMP_58.$$s || this, $a, TMP_59, _buf = nil, checklist = nil, marker_checked = nil, marker_unchecked = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil;
        if (self.document == null) self.document = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy((checklist = (function() {if ($truthy(self['$option?']("checklist"))) {
          return "checklist"
          } else {
          return nil
        }; return nil; })()))) {
          if ($truthy(self['$option?']("interactive"))) {
            
            marker_checked = "<input type=\"checkbox\" data-item-complete=\"1\" checked>";
            marker_unchecked = "<input type=\"checkbox\" data-item-complete=\"0\">";
          } else if ($truthy(self.document['$attr?']("icons", "font"))) {
            
            marker_checked = "<i class=\"icon-check\"></i>";
            marker_unchecked = "<i class=\"icon-check-empty\"></i>";
            } else {
            
            marker_checked = "<input type=\"checkbox\" data-item-complete=\"1\" checked disabled>";
            marker_unchecked = "<input type=\"checkbox\" data-item-complete=\"0\" disabled>";
          }};
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "ulist"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = [checklist, self.style, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<ul");
        _temple_html_attributeremover2 = [];
        _slim_codeattributes3 = ($truthy($a = checklist) ? $a : self.style);
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
          
          _slim_codeattributes3 = _slim_codeattributes3.$flatten();
          $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
          } else {
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
        };
        _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
        if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover2);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        $send(self.$items(), 'each', [], (TMP_59 = function(item){var self = TMP_59.$$s || this, $b, _temple_html_attributeremover3 = nil, _slim_codeattributes4 = nil;
if (item == null) item = nil;
        
          _buf['$<<']("<li");
          _temple_html_attributeremover3 = [];
          _slim_codeattributes4 = (function() {if ($truthy(($truthy($b = self['$option?']("step")) ? $b : self['$has_role?']("step")))) {
            return "fragment"
            } else {
            return nil
          }; return nil; })();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes4))) {
            
            _slim_codeattributes4 = _slim_codeattributes4.$flatten();
            $send(_slim_codeattributes4, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes4, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover3['$<<'](_slim_codeattributes4.$join(" "));
            } else {
            _temple_html_attributeremover3['$<<'](_slim_codeattributes4)
          };
          _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
          if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover3);
            _buf['$<<']("\"");};
          _buf['$<<']("><p>");
          if ($truthy(($truthy($b = checklist) ? item['$attr?']("checkbox") : $b))) {
            _buf['$<<']("" + ((function() {if ($truthy(item['$attr?']("checked"))) {
              return marker_checked
              } else {
              return marker_unchecked
            }; return nil; })()) + (item.$text()))
            } else {
            _buf['$<<'](item.$text())
          };
          _buf['$<<']("</p>");
          if ($truthy(item['$blocks?']())) {
            _buf['$<<'](item.$content())};
          return _buf['$<<']("</li>");}, TMP_59.$$s = self, TMP_59.$$arity = 1, TMP_59));
        _buf['$<<']("</ul></div>");
        return (_buf = _buf.$join(""));}, TMP_58.$$s = self, TMP_58.$$arity = 0, TMP_58));
    }, TMP_Converter_ulist_60.$$arity = -2);
    
    Opal.defn(self, '$inline_menu', TMP_Converter_inline_menu_63 = function $$inline_menu(node, opts) {
      var TMP_61, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_61 = function(){var self = TMP_61.$$s || this, TMP_62, _buf = nil, menu = nil, menuitem = nil, submenus = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        menu = self.$attr("menu");
        menuitem = self.$attr("menuitem");
        if ($truthy((submenus = self.$attr("submenus"))['$empty?']()['$!']())) {
          
          _buf['$<<']("<span class=\"menuseq\"><span class=\"menu\">");
          _buf['$<<'](menu);
          _buf['$<<']("</span>&#160;&#9656;&#32;");
          _buf['$<<']($send(submenus, 'map', [], (TMP_62 = function(submenu){var self = TMP_62.$$s || this;
if (submenu == null) submenu = nil;
          return "" + "<span class=\"submenu\">" + (submenu) + "</span>&#160;&#9656;&#32;"}, TMP_62.$$s = self, TMP_62.$$arity = 1, TMP_62)).$join());
          _buf['$<<']("<span class=\"menuitem\">");
          _buf['$<<'](menuitem);
          _buf['$<<']("</span></span>");
        } else if ($truthy(menuitem['$nil?']()['$!']())) {
          
          _buf['$<<']("<span class=\"menuseq\"><span class=\"menu\">");
          _buf['$<<'](menu);
          _buf['$<<']("</span>&#160;&#9656;&#32;<span class=\"menuitem\">");
          _buf['$<<'](menuitem);
          _buf['$<<']("</span></span>");
          } else {
          
          _buf['$<<']("<span class=\"menu\">");
          _buf['$<<'](menu);
          _buf['$<<']("</span>");
        };
        return (_buf = _buf.$join(""));}, TMP_61.$$s = self, TMP_61.$$arity = 0, TMP_61));
    }, TMP_Converter_inline_menu_63.$$arity = -2);
    
    Opal.defn(self, '$sidebar', TMP_Converter_sidebar_65 = function $$sidebar(node, opts) {
      var TMP_64, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_64 = function(){var self = TMP_64.$$s || this, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "sidebarblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("><div class=\"content\">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<'](self.$content());
        _buf['$<<']("</div></div>");
        return (_buf = _buf.$join(""));}, TMP_64.$$s = self, TMP_64.$$arity = 0, TMP_64));
    }, TMP_Converter_sidebar_65.$$arity = -2);
    
    Opal.defn(self, '$page_break', TMP_Converter_page_break_67 = function $$page_break(node, opts) {
      var TMP_66, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_66 = function(){var self = TMP_66.$$s || this, _buf = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div style=\"page-break-after: always;\"></div>");
        return (_buf = _buf.$join(""));}, TMP_66.$$s = self, TMP_66.$$arity = 0, TMP_66));
    }, TMP_Converter_page_break_67.$$arity = -2);
    
    Opal.defn(self, '$open', TMP_Converter_open_69 = function $$open(node, opts) {
      var TMP_68, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_68 = function(){var self = TMP_68.$$s || this, $a, $b, $c, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _temple_html_attributemerger2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil;
        if (self.style == null) self.style = nil;
        if (self.parent == null) self.parent = nil;
        if (self.document == null) self.document = nil;
        if (self.id == null) self.id = nil;
        if (self.level == null) self.level = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if (self.style['$==']("abstract")) {
          if ($truthy((($a = self.parent['$=='](self.document)) ? self.document.$doctype()['$==']("book") : self.parent['$=='](self.document)))) {
            self.$puts("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.")
            } else {
            
            _buf['$<<']("<div");
            _temple_html_attributeremover1 = [];
            _temple_html_attributemerger1 = [];
            
            $writer = [0, "quoteblock"];
            $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
            $writer[$rb_minus($writer["length"], 1)];;
            
            $writer = [1, "abstract"];
            $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
            $writer[$rb_minus($writer["length"], 1)];;
            
            $writer = [2, []];
            $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
            $writer[$rb_minus($writer["length"], 1)];;
            _slim_codeattributes1 = self.$role();
            if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
              
              _slim_codeattributes1 = _slim_codeattributes1.$flatten();
              $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
              $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
              _temple_html_attributemerger1['$[]'](2)['$<<'](_slim_codeattributes1.$join(" "));
              } else {
              _temple_html_attributemerger1['$[]'](2)['$<<'](_slim_codeattributes1)
            };
            
            $writer = [2, _temple_html_attributemerger1['$[]'](2).$join("")];
            $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
            $writer[$rb_minus($writer["length"], 1)];;
            _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
            _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
            if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
              
              _buf['$<<'](" class=\"");
              _buf['$<<'](_temple_html_attributeremover1);
              _buf['$<<']("\"");};
            _slim_codeattributes2 = self.id;
            if ($truthy(_slim_codeattributes2)) {
              if (_slim_codeattributes2['$=='](true)) {
                _buf['$<<'](" id")
                } else {
                
                _buf['$<<'](" id=\"");
                _buf['$<<'](_slim_codeattributes2);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
            if ($truthy(self['$title?']())) {
              
              _buf['$<<']("<div class=\"title\">");
              _buf['$<<'](self.$title());
              _buf['$<<']("</div>");};
            _buf['$<<']("<blockquote>");
            _buf['$<<'](self.$content());
            _buf['$<<']("</blockquote></div>");
          }
        } else if ($truthy((($a = self.style['$==']("partintro")) ? ($truthy($b = ($truthy($c = self.level['$!='](0)) ? $c : self.parent.$context()['$!=']("section"))) ? $b : self.document.$doctype()['$!=']("book")) : self.style['$==']("partintro")))) {
          self.$puts("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.")
          } else {
          
          _buf['$<<']("<div");
          _temple_html_attributeremover2 = [];
          _temple_html_attributemerger2 = [];
          
          $writer = [0, "openblock"];
          $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          
          $writer = [1, []];
          $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _slim_codeattributes3 = [(function() {if ($truthy(self.style['$!=']("open"))) {
            return self.style
            } else {
            return nil
          }; return nil; })(), self.$role()];
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
            
            _slim_codeattributes3 = _slim_codeattributes3.$flatten();
            $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributemerger2['$[]'](1)['$<<'](_slim_codeattributes3.$join(" "));
            } else {
            _temple_html_attributemerger2['$[]'](1)['$<<'](_slim_codeattributes3)
          };
          
          $writer = [1, _temple_html_attributemerger2['$[]'](1).$join("")];
          $send(_temple_html_attributemerger2, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _temple_html_attributeremover2['$<<']($send(_temple_html_attributemerger2, 'reject', [], "empty?".$to_proc()).$join(" "));
          _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
          if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover2);
            _buf['$<<']("\"");};
          _slim_codeattributes4 = self.id;
          if ($truthy(_slim_codeattributes4)) {
            if (_slim_codeattributes4['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes4);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          if ($truthy(self['$title?']())) {
            
            _buf['$<<']("<div class=\"title\">");
            _buf['$<<'](self.$title());
            _buf['$<<']("</div>");};
          _buf['$<<']("<div class=\"content\">");
          _buf['$<<'](self.$content());
          _buf['$<<']("</div></div>");
        };
        return (_buf = _buf.$join(""));}, TMP_68.$$s = self, TMP_68.$$arity = 0, TMP_68));
    }, TMP_Converter_open_69.$$arity = -2);
    
    Opal.defn(self, '$audio', TMP_Converter_audio_71 = function $$audio(node, opts) {
      var TMP_70, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_70 = function(){var self = TMP_70.$$s || this, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "audioblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = [self.style, self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$captioned_title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<div class=\"content\"><audio");
        _slim_codeattributes3 = self.$media_uri(self.$attr("target"));
        if ($truthy(_slim_codeattributes3)) {
          if (_slim_codeattributes3['$=='](true)) {
            _buf['$<<'](" src")
            } else {
            
            _buf['$<<'](" src=\"");
            _buf['$<<'](_slim_codeattributes3);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes4 = self['$option?']("autoplay");
        if ($truthy(_slim_codeattributes4)) {
          if (_slim_codeattributes4['$=='](true)) {
            _buf['$<<'](" autoplay")
            } else {
            
            _buf['$<<'](" autoplay=\"");
            _buf['$<<'](_slim_codeattributes4);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes5 = self['$option?']("nocontrols")['$!']();
        if ($truthy(_slim_codeattributes5)) {
          if (_slim_codeattributes5['$=='](true)) {
            _buf['$<<'](" controls")
            } else {
            
            _buf['$<<'](" controls=\"");
            _buf['$<<'](_slim_codeattributes5);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes6 = self['$option?']("loop");
        if ($truthy(_slim_codeattributes6)) {
          if (_slim_codeattributes6['$=='](true)) {
            _buf['$<<'](" loop")
            } else {
            
            _buf['$<<'](" loop=\"");
            _buf['$<<'](_slim_codeattributes6);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">Your browser does not support the audio tag.</audio></div></div>");
        return (_buf = _buf.$join(""));}, TMP_70.$$s = self, TMP_70.$$arity = 0, TMP_70));
    }, TMP_Converter_audio_71.$$arity = -2);
    
    Opal.defn(self, '$listing', TMP_Converter_listing_73 = function $$listing(node, opts) {
      var TMP_72, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_72 = function(){var self = TMP_72.$$s || this, $a, $b, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, nowrap = nil, language = nil, code_class = nil, pre_class = nil, pre_lang = nil, code_noescape = nil, $case = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _temple_html_attributeremover3 = nil, _slim_codeattributes6 = nil, _temple_html_attributeremover4 = nil, _slim_codeattributes7 = nil;
        if (self.id == null) self.id = nil;
        if (self.document == null) self.document = nil;
        if (self.style == null) self.style = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "listingblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$captioned_title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<div class=\"content\">");
        nowrap = ($truthy($a = self.document['$attr?']("prewrap")['$!']()) ? $a : self['$option?']("nowrap"));
        if ($truthy(($truthy($a = self.style['$==']("source")) ? $a : (($b = self.style['$==']("listing")) ? self.$attributes()['$[]'](1)['$!=']("listing") : self.style['$==']("listing"))))) {
          
          language = self.$attr("language");
          code_class = (function() {if ($truthy(language)) {
            return [language, "" + "language-" + (language)]
            } else {
            return nil
          }; return nil; })();
          pre_class = ["highlight"];
          pre_lang = nil;
          code_noescape = false;
          $case = self.$attr("source-highlighter");
          if ("coderay"['$===']($case)) {pre_class = ["CodeRay"]}
          else if ("pygments"['$===']($case)) {pre_class = ["pygments", "highlight"]}
          else if ("prettify"['$===']($case)) {
          pre_class = ["prettyprint"];
          if ($truthy(self['$attr?']("linenums"))) {
            pre_class['$<<']("linenums")};
          if ($truthy(language)) {
            pre_class['$<<'](language)};
          if ($truthy(language)) {
            pre_class['$<<']("" + "language-" + (language))};
          code_class = nil;}
          else if ("html-pipeline"['$===']($case)) {
          pre_lang = language;
          pre_class = (code_class = nil);
          nowrap = false;}
          else if ("highlightjs"['$===']($case) || "highlight.js"['$===']($case)) {code_noescape = true};
          if ($truthy(nowrap)) {
            pre_class['$<<']("nowrap")};
          _buf['$<<']("<pre");
          _temple_html_attributeremover2 = [];
          _slim_codeattributes3 = pre_class;
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
            
            _slim_codeattributes3 = _slim_codeattributes3.$flatten();
            $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
            } else {
            _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
          };
          _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
          if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover2);
            _buf['$<<']("\"");};
          _slim_codeattributes4 = pre_lang;
          if ($truthy(_slim_codeattributes4)) {
            if (_slim_codeattributes4['$=='](true)) {
              _buf['$<<'](" lang")
              } else {
              
              _buf['$<<'](" lang=\"");
              _buf['$<<'](_slim_codeattributes4);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("><code");
          _slim_codeattributes5 = code_noescape;
          if ($truthy(_slim_codeattributes5)) {
            if (_slim_codeattributes5['$=='](true)) {
              _buf['$<<'](" data-noescape")
              } else {
              
              _buf['$<<'](" data-noescape=\"");
              _buf['$<<'](_slim_codeattributes5);
              _buf['$<<']("\"");
            }};
          _temple_html_attributeremover3 = [];
          _slim_codeattributes6 = code_class;
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes6))) {
            
            _slim_codeattributes6 = _slim_codeattributes6.$flatten();
            $send(_slim_codeattributes6, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes6, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover3['$<<'](_slim_codeattributes6.$join(" "));
            } else {
            _temple_html_attributeremover3['$<<'](_slim_codeattributes6)
          };
          _temple_html_attributeremover3 = _temple_html_attributeremover3.$join("");
          if ($truthy(_temple_html_attributeremover3['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover3);
            _buf['$<<']("\"");};
          _buf['$<<'](">");
          _buf['$<<'](self.$content());
          _buf['$<<']("</code></pre>");
          } else {
          
          _buf['$<<']("<pre");
          _temple_html_attributeremover4 = [];
          _slim_codeattributes7 = (function() {if ($truthy(nowrap)) {
            return "nowrap"
            } else {
            return nil
          }; return nil; })();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes7))) {
            
            _slim_codeattributes7 = _slim_codeattributes7.$flatten();
            $send(_slim_codeattributes7, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes7, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover4['$<<'](_slim_codeattributes7.$join(" "));
            } else {
            _temple_html_attributeremover4['$<<'](_slim_codeattributes7)
          };
          _temple_html_attributeremover4 = _temple_html_attributeremover4.$join("");
          if ($truthy(_temple_html_attributeremover4['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover4);
            _buf['$<<']("\"");};
          _buf['$<<'](">");
          _buf['$<<'](self.$content());
          _buf['$<<']("</pre>");
        };
        _buf['$<<']("</div></div>");
        return (_buf = _buf.$join(""));}, TMP_72.$$s = self, TMP_72.$$arity = 0, TMP_72));
    }, TMP_Converter_listing_73.$$arity = -2);
    
    Opal.defn(self, '$admonition', TMP_Converter_admonition_75 = function $$admonition(node, opts) {
      var TMP_74, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_74 = function(){var self = TMP_74.$$s || this, $a, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, icon_mapping = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil;
        if (self.id == null) self.id = nil;
        if (self.document == null) self.document = nil;
        if (self.caption == null) self.caption = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy(($truthy($a = self['$has_role?']("aside")) ? $a : self['$has_role?']("speaker")))) {
          
          _buf['$<<']("<aside class=\"notes\">");
          _buf['$<<'](self.$content());
          _buf['$<<']("</aside>");
          } else {
          
          _buf['$<<']("<div");
          _temple_html_attributeremover1 = [];
          _temple_html_attributemerger1 = [];
          
          $writer = [0, "admonitionblock"];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          
          $writer = [1, []];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _slim_codeattributes1 = [self.$attr("name"), self.$role()];
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
            
            _slim_codeattributes1 = _slim_codeattributes1.$flatten();
            $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
            } else {
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
          };
          
          $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
          _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
          if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover1);
            _buf['$<<']("\"");};
          _slim_codeattributes2 = self.id;
          if ($truthy(_slim_codeattributes2)) {
            if (_slim_codeattributes2['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes2);
              _buf['$<<']("\"");
            }};
          _buf['$<<']("><table><tr><td class=\"icon\">");
          if ($truthy(self.document['$attr?']("icons", "font"))) {
            
            icon_mapping = Opal.const_get_relative($nesting, 'Hash')['$[]']("caution", "fire", "important", "exclamation-circle", "note", "info-circle", "tip", "lightbulb-o", "warning", "warning");
            _buf['$<<']("<i");
            _temple_html_attributeremover2 = [];
            _slim_codeattributes3 = "" + "fa fa-" + (icon_mapping['$[]'](self.$attr("name")));
            if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
              
              _slim_codeattributes3 = _slim_codeattributes3.$flatten();
              $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
              $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
              _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
              } else {
              _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
            };
            _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
            if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
              
              _buf['$<<'](" class=\"");
              _buf['$<<'](_temple_html_attributeremover2);
              _buf['$<<']("\"");};
            _slim_codeattributes4 = self.$attr(($truthy($a = "textlabel") ? $a : self.caption));
            if ($truthy(_slim_codeattributes4)) {
              if (_slim_codeattributes4['$=='](true)) {
                _buf['$<<'](" title")
                } else {
                
                _buf['$<<'](" title=\"");
                _buf['$<<'](_slim_codeattributes4);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("></i>");
          } else if ($truthy(self.document['$attr?']("icons"))) {
            
            _buf['$<<']("<img");
            _slim_codeattributes5 = self.$icon_uri(self.$attr("name"));
            if ($truthy(_slim_codeattributes5)) {
              if (_slim_codeattributes5['$=='](true)) {
                _buf['$<<'](" src")
                } else {
                
                _buf['$<<'](" src=\"");
                _buf['$<<'](_slim_codeattributes5);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes6 = self.caption;
            if ($truthy(_slim_codeattributes6)) {
              if (_slim_codeattributes6['$=='](true)) {
                _buf['$<<'](" alt")
                } else {
                
                _buf['$<<'](" alt=\"");
                _buf['$<<'](_slim_codeattributes6);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
            } else {
            
            _buf['$<<']("<div class=\"title\">");
            _buf['$<<'](($truthy($a = self.$attr("textlabel")) ? $a : self.caption));
            _buf['$<<']("</div>");
          };
          _buf['$<<']("</td><td class=\"content\">");
          if ($truthy(self['$title?']())) {
            
            _buf['$<<']("<div class=\"title\">");
            _buf['$<<'](self.$title());
            _buf['$<<']("</div>");};
          _buf['$<<'](self.$content());
          _buf['$<<']("</td></tr></table></div>");
        };
        return (_buf = _buf.$join(""));}, TMP_74.$$s = self, TMP_74.$$arity = 0, TMP_74));
    }, TMP_Converter_admonition_75.$$arity = -2);
    
    Opal.defn(self, '$embedded', TMP_Converter_embedded_78 = function $$embedded(node, opts) {
      var TMP_76, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_76 = function(){var self = TMP_76.$$s || this, $a, TMP_77, _buf = nil, _slim_codeattributes1 = nil;
        if (self.id == null) self.id = nil;
        if (self.header == null) self.header = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy(($truthy($a = self.$notitle()) ? $a : self['$has_header?']()['$!']()))) {
          } else {
          
          _buf['$<<']("<h1");
          _slim_codeattributes1 = self.id;
          if ($truthy(_slim_codeattributes1)) {
            if (_slim_codeattributes1['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes1);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          _buf['$<<'](self.header.$title());
          _buf['$<<']("</h1>");
        };
        _buf['$<<'](self.$content());
        if ($truthy(($truthy($a = self['$footnotes?']()['$!']()) ? $a : self['$attr?']("nofootnotes")))) {
          } else {
          
          _buf['$<<']("<div id=\"footnotes\"><hr>");
          $send(self.$footnotes(), 'each', [], (TMP_77 = function(fn){var self = TMP_77.$$s || this;
if (fn == null) fn = nil;
          
            _buf['$<<']("<div class=\"footnote\" id=\"_footnote_");
            _buf['$<<'](fn.$index());
            _buf['$<<']("\"><a href=\"#_footnoteref_");
            _buf['$<<'](fn.$index());
            _buf['$<<']("\">");
            _buf['$<<'](fn.$index());
            _buf['$<<']("</a>. ");
            _buf['$<<'](fn.$text());
            return _buf['$<<']("</div>");}, TMP_77.$$s = self, TMP_77.$$arity = 1, TMP_77));
          _buf['$<<']("</div>");
        };
        return (_buf = _buf.$join(""));}, TMP_76.$$s = self, TMP_76.$$arity = 0, TMP_76));
    }, TMP_Converter_embedded_78.$$arity = -2);
    
    Opal.defn(self, '$outline', TMP_Converter_outline_81 = function $$outline(node, opts) {
      var TMP_79, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_79 = function(){var self = TMP_79.$$s || this, $a, TMP_80, _buf = nil, toclevels = nil, slevel = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        if ($truthy(self.$sections()['$empty?']())) {
          } else {
          
          toclevels = ($truthy($a = toclevels) ? $a : self.$document().$attr("toclevels", Opal.const_get_relative($nesting, 'DEFAULT_TOCLEVELS')).$to_i());
          slevel = self.$section_level(self.$sections().$first());
          _buf['$<<']("<ol class=\"sectlevel");
          _buf['$<<'](slevel);
          _buf['$<<']("\">");
          $send(self.$sections(), 'each', [], (TMP_80 = function(sec){var self = TMP_80.$$s || this, $b, child_toc = nil;
if (sec == null) sec = nil;
          
            _buf['$<<']("<li><a href=\"#");
            _buf['$<<'](sec.$id());
            _buf['$<<']("\">");
            _buf['$<<'](self.$section_title(sec));
            _buf['$<<']("</a>");
            if ($truthy(($truthy($b = $rb_lt(sec.$level(), toclevels)) ? (child_toc = self.$converter().$convert(sec, "outline")) : $b))) {
              _buf['$<<'](child_toc)};
            return _buf['$<<']("</li>");}, TMP_80.$$s = self, TMP_80.$$arity = 1, TMP_80));
          _buf['$<<']("</ol>");
        };
        return (_buf = _buf.$join(""));}, TMP_79.$$s = self, TMP_79.$$arity = 0, TMP_79));
    }, TMP_Converter_outline_81.$$arity = -2);
    
    Opal.defn(self, '$thematic_break', TMP_Converter_thematic_break_83 = function $$thematic_break(node, opts) {
      var TMP_82, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_82 = function(){var self = TMP_82.$$s || this, _buf = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<hr>");
        return (_buf = _buf.$join(""));}, TMP_82.$$s = self, TMP_82.$$arity = 0, TMP_82));
    }, TMP_Converter_thematic_break_83.$$arity = -2);
    
    Opal.defn(self, '$table', TMP_Converter_table_94 = function $$table(node, opts) {
      var TMP_84, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_84 = function(){var self = TMP_84.$$s || this, TMP_85, TMP_86, TMP_87, TMP_88, _buf = nil, _slim_codeattributes1 = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil;
        if (self.id == null) self.id = nil;
        if (self.columns == null) self.columns = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<table");
        _slim_codeattributes1 = self.id;
        if ($truthy(_slim_codeattributes1)) {
          if (_slim_codeattributes1['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes1);
            _buf['$<<']("\"");
          }};
        _temple_html_attributeremover1 = [];
        _slim_codeattributes2 = ["tableblock", "" + "frame-" + (self.$attr("frame", "all")), "" + "grid-" + (self.$attr("grid", "all")), self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes2))) {
          
          _slim_codeattributes2 = _slim_codeattributes2.$flatten();
          $send(_slim_codeattributes2, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes2, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes3 = [(function() {if ($truthy(self['$option?']("autowidth"))) {
          return nil
          } else {
          return "" + "width:" + (self.$attr("tablepcwidth")) + "%"
        }; return nil; })(), (function() {if ($truthy(self['$attr?']("float"))) {
          return "" + "float:" + (self.$attr("float"))
          } else {
          return nil
        }; return nil; })()].$compact().$join("; ");
        if ($truthy(_slim_codeattributes3)) {
          if (_slim_codeattributes3['$=='](true)) {
            _buf['$<<'](" style")
            } else {
            
            _buf['$<<'](" style=\"");
            _buf['$<<'](_slim_codeattributes3);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<caption class=\"title\">");
          _buf['$<<'](self.$captioned_title());
          _buf['$<<']("</caption>");};
        if ($truthy(self.$attr("rowcount")['$zero?']())) {
          } else {
          
          _buf['$<<']("<colgroup>");
          if ($truthy(self['$option?']("autowidth"))) {
            $send(self.columns, 'each', [], (TMP_85 = function(){var self = TMP_85.$$s || this;

            return _buf['$<<']("<col>")}, TMP_85.$$s = self, TMP_85.$$arity = 0, TMP_85))
            } else {
            $send(self.columns, 'each', [], (TMP_86 = function(col){var self = TMP_86.$$s || this;
if (col == null) col = nil;
            
              _buf['$<<']("<col style=\"width:");
              _buf['$<<'](col.$attr("colpcwidth"));
              return _buf['$<<']("%\">");}, TMP_86.$$s = self, TMP_86.$$arity = 1, TMP_86))
          };
          _buf['$<<']("</colgroup>");
          $send($send(["head", "foot", "body"], 'select', [], (TMP_87 = function(tblsec){var self = TMP_87.$$s || this;
            if (self.rows == null) self.rows = nil;
if (tblsec == null) tblsec = nil;
          return self.rows['$[]'](tblsec)['$empty?']()['$!']()}, TMP_87.$$s = self, TMP_87.$$arity = 1, TMP_87)), 'each', [], (TMP_88 = function(tblsec){var self = TMP_88.$$s || this, TMP_89;
            if (self.rows == null) self.rows = nil;
if (tblsec == null) tblsec = nil;
          
            _buf['$<<']("<t");
            _buf['$<<'](tblsec);
            _buf['$<<'](">");
            return $send(self.rows['$[]'](tblsec), 'each', [], (TMP_89 = function(row){var self = TMP_89.$$s || this, TMP_90;
if (row == null) row = nil;
            
              _buf['$<<']("<tr>");
              $send(row, 'each', [], (TMP_90 = function(cell){var self = TMP_90.$$s || this, $a, TMP_91, cell_content = nil, $case = nil, _slim_controls1 = nil;
                if (self.document == null) self.document = nil;
if (cell == null) cell = nil;
              
                if (tblsec['$==']("head")) {
                  cell_content = cell.$text()
                  } else {
                  $case = cell.$style();
                  if ("verse"['$===']($case) || "literal"['$===']($case)) {cell_content = cell.$text()}
                  else {cell_content = cell.$content()}
                };
                _slim_controls1 = $send(self, 'html_tag', [(function() {if ($truthy(($truthy($a = tblsec['$==']("head")) ? $a : cell.$style()['$==']("header")))) {
                  return "th"
                  } else {
                  return "td"
                }; return nil; })(), $hash2(["class", "colspan", "rowspan", "style"], {"class": ["tableblock", "" + "halign-" + (cell.$attr("halign")), "" + "valign-" + (cell.$attr("valign"))], "colspan": cell.$colspan(), "rowspan": cell.$rowspan(), "style": (function() {if ($truthy(self.document['$attr?']("cellbgcolor"))) {
                  return "" + "background-color:" + (self.document.$attr("cellbgcolor")) + ";"
                  } else {
                  return nil
                }; return nil; })()})], (TMP_91 = function(){var self = TMP_91.$$s || this, TMP_92, TMP_93, _slim_controls2 = nil;

                
                  _slim_controls2 = [];
                  if (tblsec['$==']("head")) {
                    _slim_controls2['$<<'](cell_content)
                    } else {
                    $case = cell.$style();
                    if ("asciidoc"['$===']($case)) {
                    _slim_controls2['$<<']("<div>");
                    _slim_controls2['$<<'](cell_content);
                    _slim_controls2['$<<']("</div>");}
                    else if ("verse"['$===']($case)) {
                    _slim_controls2['$<<']("<div class=\"verse\">");
                    _slim_controls2['$<<'](cell_content);
                    _slim_controls2['$<<']("</div>");}
                    else if ("literal"['$===']($case)) {
                    _slim_controls2['$<<']("<div class=\"literal\"><pre>");
                    _slim_controls2['$<<'](cell_content);
                    _slim_controls2['$<<']("</pre></div>");}
                    else if ("header"['$===']($case)) {$send(cell_content, 'each', [], (TMP_92 = function(text){var self = TMP_92.$$s || this;
if (text == null) text = nil;
                    
                      _slim_controls2['$<<']("<p class=\"tableblock header\">");
                      _slim_controls2['$<<'](text);
                      return _slim_controls2['$<<']("</p>");}, TMP_92.$$s = self, TMP_92.$$arity = 1, TMP_92))}
                    else {$send(cell_content, 'each', [], (TMP_93 = function(text){var self = TMP_93.$$s || this;
if (text == null) text = nil;
                    
                      _slim_controls2['$<<']("<p class=\"tableblock\">");
                      _slim_controls2['$<<'](text);
                      return _slim_controls2['$<<']("</p>");}, TMP_93.$$s = self, TMP_93.$$arity = 1, TMP_93))}
                  };
                  return (_slim_controls2 = _slim_controls2.$join(""));}, TMP_91.$$s = self, TMP_91.$$arity = 0, TMP_91));
                return _buf['$<<'](_slim_controls1);}, TMP_90.$$s = self, TMP_90.$$arity = 1, TMP_90));
              return _buf['$<<']("</tr>");}, TMP_89.$$s = self, TMP_89.$$arity = 1, TMP_89));}, TMP_88.$$s = self, TMP_88.$$arity = 1, TMP_88));
        };
        _buf['$<<']("</table>");
        return (_buf = _buf.$join(""));}, TMP_84.$$s = self, TMP_84.$$arity = 0, TMP_84));
    }, TMP_Converter_table_94.$$arity = -2);
    
    Opal.defn(self, '$verse', TMP_Converter_verse_96 = function $$verse(node, opts) {
      var TMP_95, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_95 = function(){var self = TMP_95.$$s || this, $a, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, attribution = nil, citetitle = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "verseblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<pre class=\"content\">");
        _buf['$<<'](self.$content());
        _buf['$<<']("</pre>");
        attribution = (function() {if ($truthy(self['$attr?']("attribution"))) {
          
          return self.$attr("attribution");
          } else {
          return nil
        }; return nil; })();
        citetitle = (function() {if ($truthy(self['$attr?']("citetitle"))) {
          
          return self.$attr("citetitle");
          } else {
          return nil
        }; return nil; })();
        if ($truthy(($truthy($a = attribution) ? $a : citetitle))) {
          
          _buf['$<<']("<div class=\"attribution\">");
          if ($truthy(citetitle)) {
            
            _buf['$<<']("<cite>");
            _buf['$<<'](citetitle);
            _buf['$<<']("</cite>");};
          if ($truthy(attribution)) {
            
            if ($truthy(citetitle)) {
              _buf['$<<']("<br>")};
            _buf['$<<']("&#8212; ");
            _buf['$<<'](attribution);};
          _buf['$<<']("</div>");};
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_95.$$s = self, TMP_95.$$arity = 0, TMP_95));
    }, TMP_Converter_verse_96.$$arity = -2);
    
    Opal.defn(self, '$quote', TMP_Converter_quote_98 = function $$quote(node, opts) {
      var TMP_97, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_97 = function(){var self = TMP_97.$$s || this, $a, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, attribution = nil, citetitle = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "quoteblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<blockquote>");
        _buf['$<<'](self.$content());
        _buf['$<<']("</blockquote>");
        attribution = (function() {if ($truthy(self['$attr?']("attribution"))) {
          
          return self.$attr("attribution");
          } else {
          return nil
        }; return nil; })();
        citetitle = (function() {if ($truthy(self['$attr?']("citetitle"))) {
          
          return self.$attr("citetitle");
          } else {
          return nil
        }; return nil; })();
        if ($truthy(($truthy($a = attribution) ? $a : citetitle))) {
          
          _buf['$<<']("<div class=\"attribution\">");
          if ($truthy(citetitle)) {
            
            _buf['$<<']("<cite>");
            _buf['$<<'](citetitle);
            _buf['$<<']("</cite>");};
          if ($truthy(attribution)) {
            
            if ($truthy(citetitle)) {
              _buf['$<<']("<br>")};
            _buf['$<<']("&#8212; ");
            _buf['$<<'](attribution);};
          _buf['$<<']("</div>");};
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_97.$$s = self, TMP_97.$$arity = 0, TMP_97));
    }, TMP_Converter_quote_98.$$arity = -2);
    
    Opal.defn(self, '$inline_break', TMP_Converter_inline_break_100 = function $$inline_break(node, opts) {
      var TMP_99, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_99 = function(){var self = TMP_99.$$s || this, _buf = nil;
        if (self.text == null) self.text = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<'](self.text);
        _buf['$<<']("<br>");
        return (_buf = _buf.$join(""));}, TMP_99.$$s = self, TMP_99.$$arity = 0, TMP_99));
    }, TMP_Converter_inline_break_100.$$arity = -2);
    
    Opal.defn(self, '$ruler', TMP_Converter_ruler_102 = function $$ruler(node, opts) {
      var TMP_101, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_101 = function(){var self = TMP_101.$$s || this, _buf = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<hr>");
        return (_buf = _buf.$join(""));}, TMP_101.$$s = self, TMP_101.$$arity = 0, TMP_101));
    }, TMP_Converter_ruler_102.$$arity = -2);
    
    Opal.defn(self, '$video', TMP_Converter_video_104 = function $$video(node, opts) {
      var TMP_103, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_103 = function(){var self = TMP_103.$$s || this, $a, _buf = nil, no_stretch = nil, width = nil, height = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, $case = nil, asset_uri_scheme = nil, start_anchor = nil, delimiter = nil, loop_param = nil, src = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, _slim_codeattributes7 = nil, params = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil, _slim_codeattributes10 = nil, _slim_codeattributes11 = nil, _slim_codeattributes12 = nil, _slim_codeattributes13 = nil, _slim_codeattributes14 = nil, _slim_codeattributes15 = nil, _slim_codeattributes16 = nil, _slim_codeattributes17 = nil, _slim_codeattributes18 = nil, _slim_codeattributes19 = nil, _slim_codeattributes20 = nil;
        if (self.style == null) self.style = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        no_stretch = ($truthy($a = self['$attr?']("width")) ? $a : self['$attr?']("height"));
        width = (function() {if ($truthy(self['$attr?']("width"))) {
          
          return self.$attr("width");
          } else {
          return "100%"
        }; return nil; })();
        height = (function() {if ($truthy(self['$attr?']("height"))) {
          
          return self.$attr("height");
          } else {
          return "100%"
        }; return nil; })();
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "videoblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = [self.style, self.$role(), (function() {if ($truthy(no_stretch)) {
          return nil
          } else {
          return "stretch"
        }; return nil; })()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$captioned_title());
          _buf['$<<']("</div>");};
        $case = self.$attr("poster");
        if ("vimeo"['$===']($case)) {
        if ($truthy((asset_uri_scheme = self.$attr("asset_uri_scheme", "https"))['$empty?']())) {
          } else {
          asset_uri_scheme = "" + (asset_uri_scheme) + ":"
        };
        start_anchor = (function() {if ($truthy(self['$attr?']("start"))) {
          return "" + "#at=" + (self.$attr("start"))
          } else {
          return nil
        }; return nil; })();
        delimiter = "?";
        loop_param = (function() {if ($truthy(self['$option?']("loop"))) {
          return "" + (delimiter) + "loop=1"
          } else {
          return nil
        }; return nil; })();
        src = "" + (asset_uri_scheme) + "//player.vimeo.com/video/" + (self.$attr("target")) + (start_anchor) + (loop_param);
        _buf['$<<']("<iframe");
        _slim_codeattributes3 = width;
        if ($truthy(_slim_codeattributes3)) {
          if (_slim_codeattributes3['$=='](true)) {
            _buf['$<<'](" width")
            } else {
            
            _buf['$<<'](" width=\"");
            _buf['$<<'](_slim_codeattributes3);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes4 = height;
        if ($truthy(_slim_codeattributes4)) {
          if (_slim_codeattributes4['$=='](true)) {
            _buf['$<<'](" height")
            } else {
            
            _buf['$<<'](" height=\"");
            _buf['$<<'](_slim_codeattributes4);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes5 = src;
        if ($truthy(_slim_codeattributes5)) {
          if (_slim_codeattributes5['$=='](true)) {
            _buf['$<<'](" src")
            } else {
            
            _buf['$<<'](" src=\"");
            _buf['$<<'](_slim_codeattributes5);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes6 = 0;
        if ($truthy(_slim_codeattributes6)) {
          if (_slim_codeattributes6['$=='](true)) {
            _buf['$<<'](" frameborder")
            } else {
            
            _buf['$<<'](" frameborder=\"");
            _buf['$<<'](_slim_codeattributes6);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](" webkitAllowFullScreen mozallowfullscreen allowFullScreen");
        _slim_codeattributes7 = self['$option?']("autoplay");
        if ($truthy(_slim_codeattributes7)) {
          if (_slim_codeattributes7['$=='](true)) {
            _buf['$<<'](" data-autoplay")
            } else {
            
            _buf['$<<'](" data-autoplay=\"");
            _buf['$<<'](_slim_codeattributes7);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("></iframe>");}
        else if ("youtube"['$===']($case)) {
        if ($truthy((asset_uri_scheme = self.$attr("asset_uri_scheme", "https"))['$empty?']())) {
          } else {
          asset_uri_scheme = "" + (asset_uri_scheme) + ":"
        };
        params = ["rel=0"];
        if ($truthy(self['$attr?']("start"))) {
          params['$<<']("" + "start=" + (self.$attr("start")))};
        if ($truthy(self['$attr?']("end"))) {
          params['$<<']("" + "end=" + (self.$attr("end")))};
        if ($truthy(self['$option?']("loop"))) {
          params['$<<']("loop=1")};
        if ($truthy(self['$option?']("nocontrols"))) {
          params['$<<']("controls=0")};
        src = "" + (asset_uri_scheme) + "//www.youtube.com/embed/" + (self.$attr("target")) + "?" + ($rb_times(params, "&amp;"));
        _buf['$<<']("<iframe");
        _slim_codeattributes8 = width;
        if ($truthy(_slim_codeattributes8)) {
          if (_slim_codeattributes8['$=='](true)) {
            _buf['$<<'](" width")
            } else {
            
            _buf['$<<'](" width=\"");
            _buf['$<<'](_slim_codeattributes8);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes9 = height;
        if ($truthy(_slim_codeattributes9)) {
          if (_slim_codeattributes9['$=='](true)) {
            _buf['$<<'](" height")
            } else {
            
            _buf['$<<'](" height=\"");
            _buf['$<<'](_slim_codeattributes9);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes10 = src;
        if ($truthy(_slim_codeattributes10)) {
          if (_slim_codeattributes10['$=='](true)) {
            _buf['$<<'](" src")
            } else {
            
            _buf['$<<'](" src=\"");
            _buf['$<<'](_slim_codeattributes10);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes11 = 0;
        if ($truthy(_slim_codeattributes11)) {
          if (_slim_codeattributes11['$=='](true)) {
            _buf['$<<'](" frameborder")
            } else {
            
            _buf['$<<'](" frameborder=\"");
            _buf['$<<'](_slim_codeattributes11);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes12 = self['$option?']("nofullscreen")['$!']();
        if ($truthy(_slim_codeattributes12)) {
          if (_slim_codeattributes12['$=='](true)) {
            _buf['$<<'](" allowfullscreen")
            } else {
            
            _buf['$<<'](" allowfullscreen=\"");
            _buf['$<<'](_slim_codeattributes12);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes13 = self['$option?']("autoplay");
        if ($truthy(_slim_codeattributes13)) {
          if (_slim_codeattributes13['$=='](true)) {
            _buf['$<<'](" data-autoplay")
            } else {
            
            _buf['$<<'](" data-autoplay=\"");
            _buf['$<<'](_slim_codeattributes13);
            _buf['$<<']("\"");
          }};
        _buf['$<<']("></iframe>");}
        else {
        _buf['$<<']("<video");
        _slim_codeattributes14 = self.$media_uri(self.$attr("target"));
        if ($truthy(_slim_codeattributes14)) {
          if (_slim_codeattributes14['$=='](true)) {
            _buf['$<<'](" src")
            } else {
            
            _buf['$<<'](" src=\"");
            _buf['$<<'](_slim_codeattributes14);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes15 = width;
        if ($truthy(_slim_codeattributes15)) {
          if (_slim_codeattributes15['$=='](true)) {
            _buf['$<<'](" width")
            } else {
            
            _buf['$<<'](" width=\"");
            _buf['$<<'](_slim_codeattributes15);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes16 = height;
        if ($truthy(_slim_codeattributes16)) {
          if (_slim_codeattributes16['$=='](true)) {
            _buf['$<<'](" height")
            } else {
            
            _buf['$<<'](" height=\"");
            _buf['$<<'](_slim_codeattributes16);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes17 = (function() {if ($truthy(self.$attr("poster"))) {
          return self.$media_uri(self.$attr("poster"))
          } else {
          return nil
        }; return nil; })();
        if ($truthy(_slim_codeattributes17)) {
          if (_slim_codeattributes17['$=='](true)) {
            _buf['$<<'](" poster")
            } else {
            
            _buf['$<<'](" poster=\"");
            _buf['$<<'](_slim_codeattributes17);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes18 = self['$option?']("autoplay");
        if ($truthy(_slim_codeattributes18)) {
          if (_slim_codeattributes18['$=='](true)) {
            _buf['$<<'](" data-autoplay")
            } else {
            
            _buf['$<<'](" data-autoplay=\"");
            _buf['$<<'](_slim_codeattributes18);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes19 = self['$option?']("nocontrols")['$!']();
        if ($truthy(_slim_codeattributes19)) {
          if (_slim_codeattributes19['$=='](true)) {
            _buf['$<<'](" controls")
            } else {
            
            _buf['$<<'](" controls=\"");
            _buf['$<<'](_slim_codeattributes19);
            _buf['$<<']("\"");
          }};
        _slim_codeattributes20 = self['$option?']("loop");
        if ($truthy(_slim_codeattributes20)) {
          if (_slim_codeattributes20['$=='](true)) {
            _buf['$<<'](" loop")
            } else {
            
            _buf['$<<'](" loop=\"");
            _buf['$<<'](_slim_codeattributes20);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">Your browser does not support the video tag.</video>");};
        _buf['$<<']("</div>");
        return (_buf = _buf.$join(""));}, TMP_103.$$s = self, TMP_103.$$arity = 0, TMP_103));
    }, TMP_Converter_video_104.$$arity = -2);
    
    Opal.defn(self, '$section', TMP_Converter_section_111 = function $$section(node, opts) {
      var TMP_105, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_105 = function(){var self = TMP_105.$$s || this, $a, $b, TMP_106, TMP_107, TMP_109, TMP_110, _buf = nil, _id = nil, titleless = nil, title = nil, hide_title = nil, vertical_slides = nil, data_background_image = nil, data_background_size = nil, data_background_repeat = nil, data_background_transition = nil, section_images = nil, bg_image = nil, data_background_color = nil, _slim_codeattributes1 = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, _slim_codeattributes7 = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil, _slim_codeattributes10 = nil, _slim_codeattributes11 = nil, _slim_codeattributes12 = nil, _slim_codeattributes13 = nil, _slim_codeattributes14 = nil, _slim_htag_filter1 = nil, _slim_codeattributes15 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes16 = nil, _slim_codeattributes17 = nil, _slim_codeattributes18 = nil, _slim_codeattributes19 = nil, _slim_codeattributes20 = nil, _slim_codeattributes21 = nil, _slim_codeattributes22 = nil, _slim_codeattributes23 = nil, _slim_codeattributes24 = nil, _slim_codeattributes25 = nil, _slim_codeattributes26 = nil, _slim_codeattributes27 = nil, _slim_codeattributes28 = nil;
        if (self.level == null) self.level = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _id = self.$id().$gsub(/[^a-zA-Z0-9\-\_\:\.]/, "").$gsub(/^[^a-zA-Z]+/, "");
        titleless = (title = self.$title())['$==']("!");
        hide_title = ($truthy($a = ($truthy($b = titleless) ? $b : self['$option?']("notitle"))) ? $a : self['$option?']("conceal"));
        vertical_slides = $send(self, 'find_by', [$hash2(["context"], {"context": "section"})], (TMP_106 = function(section){var self = TMP_106.$$s || this;
if (section == null) section = nil;
        return section.$level()['$=='](2)}, TMP_106.$$s = self, TMP_106.$$arity = 1, TMP_106));
        $b = nil, $a = Opal.to_ary($b), (data_background_image = ($a[0] == null ? nil : $a[0])), (data_background_size = ($a[1] == null ? nil : $a[1])), (data_background_repeat = ($a[2] == null ? nil : $a[2])), (data_background_transition = ($a[3] == null ? nil : $a[3])), $b;
        section_images = $send(self.$blocks(), 'map', [], (TMP_107 = function(block){var self = TMP_107.$$s || this, $c, TMP_108, ctx = nil;
if (block == null) block = nil;
        if ((ctx = block.$context())['$==']("image")) {
            if ($truthy(["background", "canvas"]['$include?'](block.$attributes()['$[]'](1)))) {
              return block
              } else {
              return []
            }
          } else if (ctx['$==']("section")) {
            return []
            } else {
            return ($truthy($c = $send(block, 'find_by', [$hash2(["context"], {"context": "image"})], (TMP_108 = function(image){var self = TMP_108.$$s || this;
if (image == null) image = nil;
            return ["background", "canvas"]['$include?'](image.$attributes()['$[]'](1))}, TMP_108.$$s = self, TMP_108.$$arity = 1, TMP_108))) ? $c : [])
          }}, TMP_107.$$s = self, TMP_107.$$arity = 1, TMP_107));
        if ($truthy((bg_image = section_images.$flatten().$first()))) {
          
          data_background_image = self.$image_uri(bg_image.$attr("target"));
          data_background_size = bg_image.$attr("size");
          data_background_repeat = bg_image.$attr("repeat");
          data_background_transition = bg_image.$attr("transition");};
        if ($truthy(self['$attr?']("background-image"))) {
          data_background_image = self.$image_uri(self.$attr("background-image"))};
        if ($truthy(self['$attr?']("background-color"))) {
          data_background_color = self.$attr("background-color")};
        if ($truthy((($a = self.level['$=='](1)) ? vertical_slides['$empty?']()['$!']() : self.level['$=='](1)))) {
          
          _buf['$<<']("<section><section");
          _slim_codeattributes1 = (function() {if ($truthy(titleless)) {
            return nil
            } else {
            return _id
          }; return nil; })();
          if ($truthy(_slim_codeattributes1)) {
            if (_slim_codeattributes1['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes1);
              _buf['$<<']("\"");
            }};
          _temple_html_attributeremover1 = [];
          _slim_codeattributes2 = self.$roles();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes2))) {
            
            _slim_codeattributes2 = _slim_codeattributes2.$flatten();
            $send(_slim_codeattributes2, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes2, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover1['$<<'](_slim_codeattributes2.$join(" "));
            } else {
            _temple_html_attributeremover1['$<<'](_slim_codeattributes2)
          };
          _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
          if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover1);
            _buf['$<<']("\"");};
          _slim_codeattributes3 = self.$attr("transition");
          if ($truthy(_slim_codeattributes3)) {
            if (_slim_codeattributes3['$=='](true)) {
              _buf['$<<'](" data-transition")
              } else {
              
              _buf['$<<'](" data-transition=\"");
              _buf['$<<'](_slim_codeattributes3);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes4 = self.$attr("transition-speed");
          if ($truthy(_slim_codeattributes4)) {
            if (_slim_codeattributes4['$=='](true)) {
              _buf['$<<'](" data-transition-speed")
              } else {
              
              _buf['$<<'](" data-transition-speed=\"");
              _buf['$<<'](_slim_codeattributes4);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes5 = data_background_color;
          if ($truthy(_slim_codeattributes5)) {
            if (_slim_codeattributes5['$=='](true)) {
              _buf['$<<'](" data-background-color")
              } else {
              
              _buf['$<<'](" data-background-color=\"");
              _buf['$<<'](_slim_codeattributes5);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes6 = data_background_image;
          if ($truthy(_slim_codeattributes6)) {
            if (_slim_codeattributes6['$=='](true)) {
              _buf['$<<'](" data-background-image")
              } else {
              
              _buf['$<<'](" data-background-image=\"");
              _buf['$<<'](_slim_codeattributes6);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes7 = ($truthy($a = data_background_size) ? $a : self.$attr("background-size"));
          if ($truthy(_slim_codeattributes7)) {
            if (_slim_codeattributes7['$=='](true)) {
              _buf['$<<'](" data-background-size")
              } else {
              
              _buf['$<<'](" data-background-size=\"");
              _buf['$<<'](_slim_codeattributes7);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes8 = ($truthy($a = data_background_repeat) ? $a : self.$attr("background-repeat"));
          if ($truthy(_slim_codeattributes8)) {
            if (_slim_codeattributes8['$=='](true)) {
              _buf['$<<'](" data-background-repeat")
              } else {
              
              _buf['$<<'](" data-background-repeat=\"");
              _buf['$<<'](_slim_codeattributes8);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes9 = ($truthy($a = data_background_transition) ? $a : self.$attr("background-transition"));
          if ($truthy(_slim_codeattributes9)) {
            if (_slim_codeattributes9['$=='](true)) {
              _buf['$<<'](" data-background-transition")
              } else {
              
              _buf['$<<'](" data-background-transition=\"");
              _buf['$<<'](_slim_codeattributes9);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes10 = self.$attr("background-iframe");
          if ($truthy(_slim_codeattributes10)) {
            if (_slim_codeattributes10['$=='](true)) {
              _buf['$<<'](" data-background-iframe")
              } else {
              
              _buf['$<<'](" data-background-iframe=\"");
              _buf['$<<'](_slim_codeattributes10);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes11 = self.$attr("background-video");
          if ($truthy(_slim_codeattributes11)) {
            if (_slim_codeattributes11['$=='](true)) {
              _buf['$<<'](" data-background-video")
              } else {
              
              _buf['$<<'](" data-background-video=\"");
              _buf['$<<'](_slim_codeattributes11);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes12 = ($truthy($a = self['$attr?']("background-video-loop")) ? $a : self['$option?']("loop"));
          if ($truthy(_slim_codeattributes12)) {
            if (_slim_codeattributes12['$=='](true)) {
              _buf['$<<'](" data-background-video-loop")
              } else {
              
              _buf['$<<'](" data-background-video-loop=\"");
              _buf['$<<'](_slim_codeattributes12);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes13 = ($truthy($a = self['$attr?']("background-video-muted")) ? $a : self['$option?']("muted"));
          if ($truthy(_slim_codeattributes13)) {
            if (_slim_codeattributes13['$=='](true)) {
              _buf['$<<'](" data-background-video-muted")
              } else {
              
              _buf['$<<'](" data-background-video-muted=\"");
              _buf['$<<'](_slim_codeattributes13);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes14 = self.$attr("state");
          if ($truthy(_slim_codeattributes14)) {
            if (_slim_codeattributes14['$=='](true)) {
              _buf['$<<'](" data-state")
              } else {
              
              _buf['$<<'](" data-state=\"");
              _buf['$<<'](_slim_codeattributes14);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          if ($truthy(hide_title)) {
            } else {
            
            _buf['$<<']("<h2>");
            _buf['$<<'](title);
            _buf['$<<']("</h2>");
          };
          $send($rb_minus(self.$blocks(), vertical_slides), 'each', [], (TMP_109 = function(block){var self = TMP_109.$$s || this;
if (block == null) block = nil;
          return _buf['$<<'](block.$convert())}, TMP_109.$$s = self, TMP_109.$$arity = 1, TMP_109));
          _buf['$<<']("</section>");
          $send(vertical_slides, 'each', [], (TMP_110 = function(subsection){var self = TMP_110.$$s || this;
if (subsection == null) subsection = nil;
          return _buf['$<<'](subsection.$convert())}, TMP_110.$$s = self, TMP_110.$$arity = 1, TMP_110));
          _buf['$<<']("</section>");
        } else if ($truthy($rb_ge(self.level, 3))) {
          
          _slim_htag_filter1 = self.level.$to_s();
          _buf['$<<']("<h");
          _buf['$<<'](_slim_htag_filter1);
          _buf['$<<'](">");
          _buf['$<<'](title);
          _buf['$<<']("</h");
          _buf['$<<'](_slim_htag_filter1);
          _buf['$<<'](">");
          _buf['$<<'](self.$content().$chomp());
          } else {
          
          _buf['$<<']("<section");
          _slim_codeattributes15 = (function() {if ($truthy(titleless)) {
            return nil
            } else {
            return _id
          }; return nil; })();
          if ($truthy(_slim_codeattributes15)) {
            if (_slim_codeattributes15['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes15);
              _buf['$<<']("\"");
            }};
          _temple_html_attributeremover2 = [];
          _slim_codeattributes16 = self.$roles();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes16))) {
            
            _slim_codeattributes16 = _slim_codeattributes16.$flatten();
            $send(_slim_codeattributes16, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes16, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributeremover2['$<<'](_slim_codeattributes16.$join(" "));
            } else {
            _temple_html_attributeremover2['$<<'](_slim_codeattributes16)
          };
          _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
          if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover2);
            _buf['$<<']("\"");};
          _slim_codeattributes17 = self.$attr("transition");
          if ($truthy(_slim_codeattributes17)) {
            if (_slim_codeattributes17['$=='](true)) {
              _buf['$<<'](" data-transition")
              } else {
              
              _buf['$<<'](" data-transition=\"");
              _buf['$<<'](_slim_codeattributes17);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes18 = self.$attr("transition-speed");
          if ($truthy(_slim_codeattributes18)) {
            if (_slim_codeattributes18['$=='](true)) {
              _buf['$<<'](" data-transition-speed")
              } else {
              
              _buf['$<<'](" data-transition-speed=\"");
              _buf['$<<'](_slim_codeattributes18);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes19 = data_background_color;
          if ($truthy(_slim_codeattributes19)) {
            if (_slim_codeattributes19['$=='](true)) {
              _buf['$<<'](" data-background-color")
              } else {
              
              _buf['$<<'](" data-background-color=\"");
              _buf['$<<'](_slim_codeattributes19);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes20 = data_background_image;
          if ($truthy(_slim_codeattributes20)) {
            if (_slim_codeattributes20['$=='](true)) {
              _buf['$<<'](" data-background-image")
              } else {
              
              _buf['$<<'](" data-background-image=\"");
              _buf['$<<'](_slim_codeattributes20);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes21 = ($truthy($a = data_background_size) ? $a : self.$attr("background-size"));
          if ($truthy(_slim_codeattributes21)) {
            if (_slim_codeattributes21['$=='](true)) {
              _buf['$<<'](" data-background-size")
              } else {
              
              _buf['$<<'](" data-background-size=\"");
              _buf['$<<'](_slim_codeattributes21);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes22 = ($truthy($a = data_background_repeat) ? $a : self.$attr("background-repeat"));
          if ($truthy(_slim_codeattributes22)) {
            if (_slim_codeattributes22['$=='](true)) {
              _buf['$<<'](" data-background-repeat")
              } else {
              
              _buf['$<<'](" data-background-repeat=\"");
              _buf['$<<'](_slim_codeattributes22);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes23 = ($truthy($a = data_background_transition) ? $a : self.$attr("background-transition"));
          if ($truthy(_slim_codeattributes23)) {
            if (_slim_codeattributes23['$=='](true)) {
              _buf['$<<'](" data-background-transition")
              } else {
              
              _buf['$<<'](" data-background-transition=\"");
              _buf['$<<'](_slim_codeattributes23);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes24 = self.$attr("background-iframe");
          if ($truthy(_slim_codeattributes24)) {
            if (_slim_codeattributes24['$=='](true)) {
              _buf['$<<'](" data-background-iframe")
              } else {
              
              _buf['$<<'](" data-background-iframe=\"");
              _buf['$<<'](_slim_codeattributes24);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes25 = self.$attr("background-video");
          if ($truthy(_slim_codeattributes25)) {
            if (_slim_codeattributes25['$=='](true)) {
              _buf['$<<'](" data-background-video")
              } else {
              
              _buf['$<<'](" data-background-video=\"");
              _buf['$<<'](_slim_codeattributes25);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes26 = ($truthy($a = self['$attr?']("background-video-loop")) ? $a : self['$option?']("loop"));
          if ($truthy(_slim_codeattributes26)) {
            if (_slim_codeattributes26['$=='](true)) {
              _buf['$<<'](" data-background-video-loop")
              } else {
              
              _buf['$<<'](" data-background-video-loop=\"");
              _buf['$<<'](_slim_codeattributes26);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes27 = ($truthy($a = self['$attr?']("background-video-muted")) ? $a : self['$option?']("muted"));
          if ($truthy(_slim_codeattributes27)) {
            if (_slim_codeattributes27['$=='](true)) {
              _buf['$<<'](" data-background-video-muted")
              } else {
              
              _buf['$<<'](" data-background-video-muted=\"");
              _buf['$<<'](_slim_codeattributes27);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes28 = self.$attr("state");
          if ($truthy(_slim_codeattributes28)) {
            if (_slim_codeattributes28['$=='](true)) {
              _buf['$<<'](" data-state")
              } else {
              
              _buf['$<<'](" data-state=\"");
              _buf['$<<'](_slim_codeattributes28);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          if ($truthy(hide_title)) {
            } else {
            
            _buf['$<<']("<h2>");
            _buf['$<<'](title);
            _buf['$<<']("</h2>");
          };
          _buf['$<<'](self.$content().$chomp());
          _buf['$<<']("</section>");
        };
        return (_buf = _buf.$join(""));}, TMP_105.$$s = self, TMP_105.$$arity = 0, TMP_105));
    }, TMP_Converter_section_111.$$arity = -2);
    
    Opal.defn(self, '$floating_title', TMP_Converter_floating_title_113 = function $$floating_title(node, opts) {
      var TMP_112, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_112 = function(){var self = TMP_112.$$s || this, _buf = nil, _slim_htag_filter1 = nil, _slim_codeattributes1 = nil, _temple_html_attributeremover1 = nil, _slim_codeattributes2 = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _slim_htag_filter1 = $rb_plus(self.$level(), 1).$to_s();
        _buf['$<<']("<h");
        _buf['$<<'](_slim_htag_filter1);
        _slim_codeattributes1 = self.$id();
        if ($truthy(_slim_codeattributes1)) {
          if (_slim_codeattributes1['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes1);
            _buf['$<<']("\"");
          }};
        _temple_html_attributeremover1 = [];
        _slim_codeattributes2 = [self.$style(), self.$role()];
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes2))) {
          
          _slim_codeattributes2 = _slim_codeattributes2.$flatten();
          $send(_slim_codeattributes2, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes2, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2.$join(" "));
          } else {
          _temple_html_attributeremover1['$<<'](_slim_codeattributes2)
        };
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.$title());
        _buf['$<<']("</h");
        _buf['$<<'](_slim_htag_filter1);
        _buf['$<<'](">");
        return (_buf = _buf.$join(""));}, TMP_112.$$s = self, TMP_112.$$arity = 0, TMP_112));
    }, TMP_Converter_floating_title_113.$$arity = -2);
    
    Opal.defn(self, '$literal', TMP_Converter_literal_115 = function $$literal(node, opts) {
      var TMP_114, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_114 = function(){var self = TMP_114.$$s || this, $a, _buf = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _temple_html_attributeremover2 = nil, _slim_codeattributes3 = nil;
        if (self.id == null) self.id = nil;
        if (self.document == null) self.document = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        _buf['$<<']("<div");
        _temple_html_attributeremover1 = [];
        _temple_html_attributemerger1 = [];
        
        $writer = [0, "literalblock"];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        
        $writer = [1, []];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _slim_codeattributes1 = self.$role();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
          
          _slim_codeattributes1 = _slim_codeattributes1.$flatten();
          $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
          } else {
          _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
        };
        
        $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
        $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
        $writer[$rb_minus($writer["length"], 1)];;
        _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
        _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
        if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover1);
          _buf['$<<']("\"");};
        _slim_codeattributes2 = self.id;
        if ($truthy(_slim_codeattributes2)) {
          if (_slim_codeattributes2['$=='](true)) {
            _buf['$<<'](" id")
            } else {
            
            _buf['$<<'](" id=\"");
            _buf['$<<'](_slim_codeattributes2);
            _buf['$<<']("\"");
          }};
        _buf['$<<'](">");
        if ($truthy(self['$title?']())) {
          
          _buf['$<<']("<div class=\"title\">");
          _buf['$<<'](self.$title());
          _buf['$<<']("</div>");};
        _buf['$<<']("<div class=\"content\"><pre");
        _temple_html_attributeremover2 = [];
        _slim_codeattributes3 = (function() {if ($truthy(($truthy($a = self.document['$attr?']("prewrap")['$!']()) ? $a : self['$option?']("nowrap")))) {
          return "nowrap"
          } else {
          return nil
        }; return nil; })();
        if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes3))) {
          
          _slim_codeattributes3 = _slim_codeattributes3.$flatten();
          $send(_slim_codeattributes3, 'map!', [], "to_s".$to_proc());
          $send(_slim_codeattributes3, 'reject!', [], "empty?".$to_proc());
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3.$join(" "));
          } else {
          _temple_html_attributeremover2['$<<'](_slim_codeattributes3)
        };
        _temple_html_attributeremover2 = _temple_html_attributeremover2.$join("");
        if ($truthy(_temple_html_attributeremover2['$empty?']()['$!']())) {
          
          _buf['$<<'](" class=\"");
          _buf['$<<'](_temple_html_attributeremover2);
          _buf['$<<']("\"");};
        _buf['$<<'](">");
        _buf['$<<'](self.$content());
        _buf['$<<']("</pre></div></div>");
        return (_buf = _buf.$join(""));}, TMP_114.$$s = self, TMP_114.$$arity = 0, TMP_114));
    }, TMP_Converter_literal_115.$$arity = -2);
    
    Opal.defn(self, '$image', TMP_Converter_image_117 = function $$image(node, opts) {
      var TMP_116, self = this;

      if (opts == null) {
        opts = $hash2([], {});
      }
      
      node.$extend(Opal.const_get_relative($nesting, 'Helpers'));
      return $send(node, 'instance_eval', [], (TMP_116 = function(){var self = TMP_116.$$s || this, $a, $b, _buf = nil, width = nil, height = nil, _temple_html_attributeremover1 = nil, _temple_html_attributemerger1 = nil, $writer = nil, _slim_codeattributes1 = nil, _slim_codeattributes2 = nil, _slim_codeattributes3 = nil, _slim_codeattributes4 = nil, _slim_codeattributes5 = nil, _slim_codeattributes6 = nil, _slim_codeattributes7 = nil, _slim_codeattributes8 = nil, _slim_codeattributes9 = nil, _slim_codeattributes10 = nil, _slim_codeattributes11 = nil, _slim_codeattributes12 = nil, _slim_codeattributes13 = nil, _slim_codeattributes14 = nil;
        if (self.id == null) self.id = nil;

      
        if ($truthy(opts['$empty?']())) {
          } else {
          self.$converter().$set_local_variables(self.$binding(), opts)
        };
        _buf = [];
        width = (function() {if ($truthy(self['$attr?']("width"))) {
          
          return self.$attr("width");
          } else {
          return nil
        }; return nil; })();
        height = (function() {if ($truthy(self['$attr?']("height"))) {
          
          return self.$attr("height");
          } else {
          return nil
        }; return nil; })();
        if ($truthy(($truthy($a = self['$has_role?']("stretch")) ? ($truthy($b = self['$attr?']("width")) ? $b : self['$attr?']("height"))['$!']() : $a))) {
          height = "100%"};
        if ($truthy(($truthy($a = self.$attributes()['$[]'](1)['$==']("background")) ? $a : self.$attributes()['$[]'](1)['$==']("canvas")))) {
          } else {
          
          _buf['$<<']("<div");
          _temple_html_attributeremover1 = [];
          _temple_html_attributemerger1 = [];
          
          $writer = [0, "imageblock"];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          
          $writer = [1, []];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _slim_codeattributes1 = self.$roles();
          if ($truthy(Opal.const_get_relative($nesting, 'Array')['$==='](_slim_codeattributes1))) {
            
            _slim_codeattributes1 = _slim_codeattributes1.$flatten();
            $send(_slim_codeattributes1, 'map!', [], "to_s".$to_proc());
            $send(_slim_codeattributes1, 'reject!', [], "empty?".$to_proc());
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1.$join(" "));
            } else {
            _temple_html_attributemerger1['$[]'](1)['$<<'](_slim_codeattributes1)
          };
          
          $writer = [1, _temple_html_attributemerger1['$[]'](1).$join("")];
          $send(_temple_html_attributemerger1, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          _temple_html_attributeremover1['$<<']($send(_temple_html_attributemerger1, 'reject', [], "empty?".$to_proc()).$join(" "));
          _temple_html_attributeremover1 = _temple_html_attributeremover1.$join("");
          if ($truthy(_temple_html_attributeremover1['$empty?']()['$!']())) {
            
            _buf['$<<'](" class=\"");
            _buf['$<<'](_temple_html_attributeremover1);
            _buf['$<<']("\"");};
          _slim_codeattributes2 = self.id;
          if ($truthy(_slim_codeattributes2)) {
            if (_slim_codeattributes2['$=='](true)) {
              _buf['$<<'](" id")
              } else {
              
              _buf['$<<'](" id=\"");
              _buf['$<<'](_slim_codeattributes2);
              _buf['$<<']("\"");
            }};
          _slim_codeattributes3 = [(function() {if ($truthy(self['$attr?']("align"))) {
            return "" + "text-align: " + (self.$attr("align"))
            } else {
            return nil
          }; return nil; })(), (function() {if ($truthy(self['$attr?']("float"))) {
            return "" + "float: " + (self.$attr("float"))
            } else {
            return nil
          }; return nil; })()].$compact().$join("; ");
          if ($truthy(_slim_codeattributes3)) {
            if (_slim_codeattributes3['$=='](true)) {
              _buf['$<<'](" style")
              } else {
              
              _buf['$<<'](" style=\"");
              _buf['$<<'](_slim_codeattributes3);
              _buf['$<<']("\"");
            }};
          _buf['$<<'](">");
          if ($truthy(self['$attr?']("link"))) {
            
            _buf['$<<']("<a class=\"image\"");
            _slim_codeattributes4 = self.$attr("link");
            if ($truthy(_slim_codeattributes4)) {
              if (_slim_codeattributes4['$=='](true)) {
                _buf['$<<'](" href")
                } else {
                
                _buf['$<<'](" href=\"");
                _buf['$<<'](_slim_codeattributes4);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("><img");
            _slim_codeattributes5 = self.$image_uri(self.$attr("target"));
            if ($truthy(_slim_codeattributes5)) {
              if (_slim_codeattributes5['$=='](true)) {
                _buf['$<<'](" src")
                } else {
                
                _buf['$<<'](" src=\"");
                _buf['$<<'](_slim_codeattributes5);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes6 = self.$attr("alt");
            if ($truthy(_slim_codeattributes6)) {
              if (_slim_codeattributes6['$=='](true)) {
                _buf['$<<'](" alt")
                } else {
                
                _buf['$<<'](" alt=\"");
                _buf['$<<'](_slim_codeattributes6);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes7 = width;
            if ($truthy(_slim_codeattributes7)) {
              if (_slim_codeattributes7['$=='](true)) {
                _buf['$<<'](" width")
                } else {
                
                _buf['$<<'](" width=\"");
                _buf['$<<'](_slim_codeattributes7);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes8 = height;
            if ($truthy(_slim_codeattributes8)) {
              if (_slim_codeattributes8['$=='](true)) {
                _buf['$<<'](" height")
                } else {
                
                _buf['$<<'](" height=\"");
                _buf['$<<'](_slim_codeattributes8);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes9 = (function() {if ($truthy(self['$attr?']("background"))) {
              return "" + "background: " + (self.$attr("background"))
              } else {
              return nil
            }; return nil; })();
            if ($truthy(_slim_codeattributes9)) {
              if (_slim_codeattributes9['$=='](true)) {
                _buf['$<<'](" style")
                } else {
                
                _buf['$<<'](" style=\"");
                _buf['$<<'](_slim_codeattributes9);
                _buf['$<<']("\"");
              }};
            _buf['$<<']("></a>");
            } else {
            
            _buf['$<<']("<img");
            _slim_codeattributes10 = self.$image_uri(self.$attr("target"));
            if ($truthy(_slim_codeattributes10)) {
              if (_slim_codeattributes10['$=='](true)) {
                _buf['$<<'](" src")
                } else {
                
                _buf['$<<'](" src=\"");
                _buf['$<<'](_slim_codeattributes10);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes11 = self.$attr("alt");
            if ($truthy(_slim_codeattributes11)) {
              if (_slim_codeattributes11['$=='](true)) {
                _buf['$<<'](" alt")
                } else {
                
                _buf['$<<'](" alt=\"");
                _buf['$<<'](_slim_codeattributes11);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes12 = width;
            if ($truthy(_slim_codeattributes12)) {
              if (_slim_codeattributes12['$=='](true)) {
                _buf['$<<'](" width")
                } else {
                
                _buf['$<<'](" width=\"");
                _buf['$<<'](_slim_codeattributes12);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes13 = height;
            if ($truthy(_slim_codeattributes13)) {
              if (_slim_codeattributes13['$=='](true)) {
                _buf['$<<'](" height")
                } else {
                
                _buf['$<<'](" height=\"");
                _buf['$<<'](_slim_codeattributes13);
                _buf['$<<']("\"");
              }};
            _slim_codeattributes14 = (function() {if ($truthy(self['$attr?']("background"))) {
              return "" + "background: " + (self.$attr("background"))
              } else {
              return nil
            }; return nil; })();
            if ($truthy(_slim_codeattributes14)) {
              if (_slim_codeattributes14['$=='](true)) {
                _buf['$<<'](" style")
                } else {
                
                _buf['$<<'](" style=\"");
                _buf['$<<'](_slim_codeattributes14);
                _buf['$<<']("\"");
              }};
            _buf['$<<'](">");
          };
          _buf['$<<']("</div>");
          if ($truthy(self['$title?']())) {
            
            _buf['$<<']("<div class=\"title\">");
            _buf['$<<'](self.$captioned_title());
            _buf['$<<']("</div>");};
        };
        return (_buf = _buf.$join(""));}, TMP_116.$$s = self, TMP_116.$$arity = 0, TMP_116));
    }, TMP_Converter_image_117.$$arity = -2);
    return (Opal.defn(self, '$set_local_variables', TMP_Converter_set_local_variables_119 = function $$set_local_variables(binding, vars) {
      var TMP_118, self = this;

      return $send(vars, 'each', [], (TMP_118 = function(key, val){var self = TMP_118.$$s || this;
if (key == null) key = nil;if (val == null) val = nil;
      return binding.$local_variable_set(key.$to_sym(), val)}, TMP_118.$$s = self, TMP_118.$$arity = 2, TMP_118))
    }, TMP_Converter_set_local_variables_119.$$arity = 2), nil) && 'set_local_variables';
  })(Opal.const_get_qualified(Opal.const_get_relative($nesting, 'Asciidoctor'), 'Revealjs'), Opal.const_get_qualified(Opal.const_get_qualified(Opal.const_get_qualified('::', 'Asciidoctor'), 'Converter'), 'Base'), $nesting);
};

/* Generated by Opal 0.11.0.rc1 */
(function(Opal) {
  var self = Opal.top, $nesting = [], nil = Opal.nil, $breaker = Opal.breaker, $slice = Opal.slice;

  Opal.add_stubs(['$==', '$require']);
  if (Opal.const_get_relative($nesting, 'RUBY_ENGINE')['$==']("opal")) {
    return self.$require("asciidoctor-revealjs/converter")
    } else {
    return nil
  }
})(Opal);
